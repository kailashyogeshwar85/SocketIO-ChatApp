!function e(t,n,r){function i(u,s){if(!n[u]){if(!t[u]){var a="function"==typeof require&&require;if(!s&&a)return a(u,!0);if(o)return o(u,!0);var c=new Error("Cannot find module '"+u+"'");throw c.code="MODULE_NOT_FOUND",c}var f=n[u]={exports:{}};t[u][0].call(f.exports,function(e){var n=t[u][1][e];return i(n?n:e)},f,f.exports,e,t,n,r)}return n[u].exports}for(var o="function"==typeof require&&require,u=0;u<r.length;u++)i(r[u]);return i}({1:[function(e,t){t.exports={host:"api.built.io",rtHost:"realtime.built.io",port:443,rtPort:443,protocol:"https",rtProtocol:"https",version:"v1",adaptor:"RestfullAdaptor",persistSession:"COOKIE",cachePolicy:"ONLY_NETWORK",socketData:null,userJSON:null,isSessionUpdated:!1,event_properties:{},app_info:{name:"",app_variables:{},uid:""}}},{}],2:[function(e,t){function n(e){return o.mixin({},a(e))}function r(e,t,n){return o.find(o.where({uid:e}),n.data[t])||{}}function i(e,t){var n=o.indexOf(e.uid,o.map(o.prop("uid"),t));return o.remove(n,1,t)}var o=e("ramda"),u=e("./utilities/utility"),s=e("./utilities/instanceMethodBuilder")(),a=o.prop("data"),c=o.compose(o.prop("others"),a),f=t.exports=function(e){var n=o.mixin({},e);e.users&&u.isArray(e.users)||(n.users=[]),e.roles&&u.isArray(e.roles)||(n.roles=[]),e.others&&u.isObject(e.others)||(n.others={}),e.can&&u.isArray(e.can)||(n.can=[]);var r={toJSON:function(){return e},data:n};return s.build(t.exports,r)},l=o.curry(function(e,t,r,u,s){var c=n(s);c[t]=[].concat(s.data[t]);var l=o.mixin({},o.find(o.propEq("uid",r),a(s)[t]));if(l.uid)c[t]=i(l,c[t]),l[e]=u,c[t].push(l);else{var p={};p.uid=r,p[e]=u,c[t].push(p)}return f(c)});t.exports.getPublicDeleteAccess=function(e){return c(e).delete},s.define("getPublicDeleteAccess",1),t.exports.getPublicReadAccess=function(e){return c(e).read},s.define("getPublicReadAccess",1),t.exports.getPublicUpdateAccess=function(e){return c(e).update},s.define("getPublicUpdateAccess",1),t.exports.getRoleDeleteAccess=o.curry(function(e,t){return r(e,"roles",t).delete}),s.define("getRoleDeleteAccess",2),t.exports.getRoleReadAccess=o.curry(function(e,t){return r(e,"roles",t).read}),s.define("getRoleReadAccess",2),t.exports.getRoleUpdateAccess=o.curry(function(e,t){return r(e,"roles",t).update}),s.define("getRoleUpdateAccess",2),t.exports.getUserDeleteAccess=o.curry(function(e,t){return r(e,"users",t).delete}),s.define("getUserDeleteAccess",2),t.exports.getUserReadAccess=o.curry(function(e,t){return r(e,"users",t).read}),s.define("getUserReadAccess",2),t.exports.getUserUpdateAccess=o.curry(function(e,t){return r(e,"users",t).update}),s.define("getUserUpdateAccess",2),t.exports.isDisabled=function(e){return!!a(e).disable},s.define("isDisabled",1),t.exports.setPublicDeleteAccess=o.curry(function(e,t){var r=n(t);return r.others=o.mixin({},t.data.others),r.others["delete"]=e,f(r)}),s.define("setPublicDeleteAccess",2),t.exports.setPublicUpdateAccess=o.curry(function(e,t){var r=n(t);return r.others=o.mixin({},t.data.others),r.others.update=e,f(r)}),s.define("setPublicUpdateAccess",2),t.exports.setPublicReadAccess=o.curry(function(e,t){var r=n(t);return r.others=o.mixin({},t.data.others),r.others.read=e,f(r)}),s.define("setPublicReadAccess",2),t.exports.setRoleDeleteAccess=l("delete","roles"),s.define("setRoleDeleteAccess",3),t.exports.setRoleUpdateAccess=l("update","roles"),s.define("setRoleUpdateAccess",3),t.exports.setRoleReadAccess=l("read","roles"),s.define("setRoleReadAccess",3),t.exports.setUserDeleteAccess=l("delete","users"),s.define("setUserDeleteAccess",3),t.exports.setUserUpdateAccess=l("update","users"),s.define("setUserUpdateAccess",3),t.exports.setUserReadAccess=l("read","users"),s.define("setUserReadAccess",3),t.exports.disable=function(e){var t=o.mixin({},a(e));return t.disable=!0,f(t)},s.define("disable",1),t.exports.enable=function(e){var t=o.mixin({},a(e));return t.disable=!1,f(t)},s.define("enable",1),t.exports.canUpdate=function(e){return a(e).can.indexOf("update")>-1},s.define("canUpdate",1),t.exports.canDelete=function(e){return a(e).can.indexOf("delete")>-1},s.define("canDelete",1)},{"./utilities/instanceMethodBuilder":24,"./utilities/utility":27,ramda:52}],3:[function(e,t){function n(e){return{headers:e.headers,status:e.status,entity:e.entity}}function r(e){var t=s.defer();return e.onreadystatechange=function(){4==e.readyState&&(e.status>=200&&e.status<300?(a.trigger("upload:end"),t.resolve(e.responseText)):t.reject(e.statusText))},e.ontimeout=e.onerror=function(){t.reject(e.statusText)},t}var i=e("rest"),o=e("rest/interceptor/mime"),u=e("rest/interceptor/errorCode"),s=e("when"),a=e("../events"),c=i.wrap(o,{mime:"application/json"}).wrap(u,{code:400});t.exports.makeCall=function(e){return"DELETE"===e.method.toUpperCase()&&(e.entity={_method:"DELETE"},e.method="POST"),a.trigger("http:start"),c(e).then(function(e){return a.trigger("http:end"),n(e)}).catch(function(e){throw n(e)})},t.exports.makeXMLHttpRequest=function(e){a.trigger("upload:start");var t=new XMLHttpRequest;t.open("POST",e.url,!0);for(var n in e.headers)t.setRequestHeader(n,e.headers[n]);var i=r(t);return t.upload.onprogress=function(e){i.notify({bytesUploaded:e.loaded,bytesTotal:e.total,timestamp:e.timeStamp})},t.send(e.formData),i.promise}},{"../events":11,rest:62,"rest/interceptor/errorCode":57,"rest/interceptor/mime":58,when:83}],4:[function(e,t){function n(e){return{headers:e.headers,status:e.statusCode,entity:e.body}}function r(e){var t=o.defer();return e.onreadystatechange=function(){4==e.readyState&&(e.status>=200&&e.status<300?(u.trigger("upload:end"),t.resolve(e.responseText)):t.reject(e.statusText))},e.ontimeout=e.onerror=function(){t.reject(e.statusText)},t}var i=e("ramda"),o=e("when"),u=e("../events"),s=e("../utilities/utility");t.exports.makeCall=i.curry(function(e,t){function r(e){e.emit("api",{headers:t.headers,method:t.method,url:a,body:t.entity},function(e,t){t.statusCode>=200&&t.statusCode<300?i.resolve(n(t)):i.reject(n(t)),e&&i.reject(n(e))})}var i=o.defer(),u=t.path,a=u.substr(u.search("/v"));if(t.params)for(var c in t.params)a=s.addParam(a,c,t.params);return e.isSocketConnected()?r(e.getSocket()):e.getAdhocOperations().push(r),i.promise}),t.exports.makeXMLHttpRequest=function(e){u.trigger("upload:start");var t=new XMLHttpRequest;t.open("POST",e.url,!0);for(var n in e.headers)t.setRequestHeader(n,e.headers[n]);var i=r(t);return t.upload.onprogress=function(e){i.notify({bytesUploaded:e.loaded,bytesTotal:e.total,timestamp:e.timeStamp})},t.send(e.formData),i.promise}},{"../events":11,"../utilities/utility":27,ramda:52,when:83}],5:[function(e,t){function n(e,t){r(e),t.resetBatchQueue()}function r(e){var t,n=a.keyValue;if(a.isArray(e)){if(!(e.length>0))throw new Error("Events array is empty");t=e[0].analytics}var r=s.mixin(n("events",i(e)),n("super_properties",o(t))),c=t.app.options.adaptor,f=a.getAdaptorObj("POST",u(t.app),getCombinedHeaders(t),r,null);return c.makeCall(f).then(function(){return e})}function i(e){var t={};return e.forEach(function(e){var n=t[e.getUid()]||[];n.push(a.keyValue("properties",e.getProperties())),t[e.getUid()]=n}),t}function o(e){return s.mixin(e.getDefaultProperties(),e.getSuperProperties())}function u(e){return e.getURL()+l}var s=e("ramda"),a=e("./utilities/utility"),c=e("./utilities/instanceMethodBuilder")(),f=(e("./built"),e("./analyticsEvent")),l="/events/trigger_multiple",p=t.exports=s.curry(function(e,n,r,i,o,u,s){var l={app:e,headers:n,defaultProperties:i,queue:r,trackAnonymously:o,batchSize:u,superProperties:s},p=f(e,l);return l.Event=function(e,t){if(!e)throw new Error("uid not found");return t?p(e,t):p(e,{})},a.copyProperties(l.Event,f),c.build(t.exports,l)}),d=t.exports.set=s.curry(function(e,t,n){var r=n.queue,i=n.trackAnonymously,o=n.batchSize,u=n.superProperties,s=n.headers;switch(e){case"headers":s=t;break;case"queue":r=t;break;case"trackAnonymously":i=t;break;case"batchSize":o=t;break;case"superProperties":u=t}return p(n.app,s,r,n.defaultProperties,i,o,u)});c.define("set",3);var h=t.exports.get=s.curry(function(e,t){return t[e]});c.define("get",2),t.exports.getDefaultProperties=function(e){return e.defaultProperties(16)},c.define("getDefaultProperties",1),t.exports.setBatchSize=d("batchSize"),c.define("setBatchSize",2),t.exports.getBatchSize=h("batchSize"),c.define("getBatchSize",1),t.exports.setTrackAnonymously=d("trackAnonymously"),c.define("setTrackAnonymously",2),t.exports.getTrackAnonymously=h("trackAnonymously"),c.define("getTrackAnonymously",1),t.exports.setSuperProperties=d("superProperties"),c.define("setSuperProperties",2),t.exports.getSuperProperties=h("superProperties"),c.define("getSuperProperties",1),t.exports.setHeader=s.curry(function(e,t,n){var r=s.mixin({},n.headers);return r[e]=t,d("headers",r,n)}),c.define("setHeader",3),t.exports.getHeaders=h("headers"),c.define("getHeaders",1),t.exports.trigger=function(e,t,r){a.isArray(e)||(e=[e]);var i=r.get("queue");if(t)return n(e,r);if(1===r.get("batchSize"))return n(i,r);var o=i.concat(e);return o.length>=r.getBatchSize()?n(i,r):void(r.queue=o)},c.define("trigger",3,[!1]),t.exports.flush=function(e){t.exports.trigger(e.queue,!0,e),e.resetBatchQueue()},c.define("flush",1),t.exports.getQueue=h("queue");t.exports.resetBatchQueue=function(e){return e.queue=[],e};c.define("resetBatchQueue",1),t.exports.pushEventInQueue=s.curry(function(e,n){n.queue=n.get("queue").concat(e),n.queue.length===n.getBatchSize()&&(t.exports.trigger(n.get("queue"),!0,n),n.resetBatchQueue())}),c.define("pushEventInQueue",2)},{"./analyticsEvent":6,"./built":8,"./utilities/instanceMethodBuilder":24,"./utilities/utility":27,ramda:52}],6:[function(e,t){function n(e){return o.mixin(e.getDefaultProperties(),e.getSuperProperties())}function r(e){var t=e.app;return t.getURL()+"/events/"+e.getUid()+a}function i(e){return o.mixin({},f(e))}var o=e("ramda"),u=e("./utilities/utility"),s=e("./utilities/instanceMethodBuilder")(),a="/trigger",c=t.exports=o.curry(function(e,n,r,i){var o={app:e,analytics:n,uid:r,properties:i};return s.build(t.exports,o)}),f=t.exports.getProperties=function(e){return e.properties};s.define("getProperties",1);t.exports.getUid=function(e){return e.uid};s.define("getUid",1),t.exports.setUid=o.curry(function(e,t){return c(t.app,t.analytics,e,t.properties)}),s.define("setUid",2);var l=o.curry(function(e,t,n){t instanceof Date&&(t=t.toISOString());var r=i(n);return r[e]=t,c(n.app,n.analytics,n.uid,r)});t.exports.setProperties=o.curry(function(e,t){var n=o.mixin(e,i(t));return c(t.app,t.analytics,t.uid,n)}),s.define("setProperties",2),t.exports.setCreatedAt=l("created_at"),s.define("setCreatedAt",2),t.exports.setPreviousEventUid=l("previous_event_uid"),s.define("setPreviousEventUid",2),t.exports.trigger=function(e,t){var i=u.keyValue;if(t.analytics.getBatchSize()>1&&!e)t=t.setCreatedAt(new Date),t.analytics.pushEventInQueue(t);else{var s=o.mixin(t.getProperties(),n(t.analytics)),a=i("event",i("properties",s)),c=t.app.options.adaptor,f=u.getAdaptorObj("POST",r(t),t.app.getHeaders(),a,null);c.makeCall(f)}},s.define("trigger",2,[!1])},{"./utilities/instanceMethodBuilder":24,"./utilities/utility":27,ramda:52}],7:[function(e,t){function n(){var e=function(){return{}};return pluginsHelper.plugins.map(function(t){return t.analyticsConfig&&t.analyticsConfig.generate?void(e=t.analyticsConfig.generate):void 0}),e}function r(e){pluginsHelper.plugins.map(function(t){t.realtime&&t.realtime.onAppInstance&&t.realtime.onAppInstance(e)})}function i(e){pluginsHelper.plugins.map(function(t){t.realtime&&t.realtime.onClassCons&&t.realtime.onClassCons(e),t.realtime&&t.realtime.onUploadCons&&t.realtime.onUploadCons(e),t.realtime&&t.realtime.onUserCons&&t.realtime.onUserCons(e),t.realtime&&t.realtime.onRoleCons&&t.realtime.onRoleCons(e),t.realtime&&t.realtime.onInstallationCons&&t.realtime.onInstallationCons(e)})}function o(e,t){b.Session.COOKIE===L(t).persistSession?O.set(p(D(t)),e.authtoken):b.Session.LOCAL_STORAGE===L(t).persistSession&&k.set(p(D(t)),e)}function u(e){var n=m.getAdaptorObj("GET",t.exports.getURL(e)+"/application/users/current",t.exports.getHeaders(e),null,null);return s(e,n).then(function(t){return e.setSession(t.toJSON()),t})}function s(e,t){var n=e.options.adaptor;return n.makeCall(t).then(function(t){var n=a(t.entity.application_user,e);return e.setSession(n.toJSON()),n})}function a(e,t){return c(C.APP_USER_CLS,e,t)}function c(e,t,n){return n.Class(e).ObjectCons({},{},t,{})}function f(){try{if(!window.localStorage)throw new Error("Local Storage doesn't exist");return k.set("builttestkey","value"),k.get("builttestkey"),k.delete("builttestkey"),!0}catch(e){return console.warn("Local storage was downgraded to cookie",e),!1}}function l(e,t){var n={};return n.application_api_key=t,m.isBrowser()&&(b.Session.COOKIE===e.persistSession&&""!==O.get(p(t))?n.authtoken=O.get(p(t)):b.Session.LOCAL_STORAGE===e.persistSession&&k.get(p(t))&&(n.authtoken=k.get(p(t)).authtoken)),n}function p(e){return j+"_"+e}{var d=e("ramda"),h=e("when"),g=(e("../config"),e("./class")),y=e("./upload"),m=e("./utilities/utility"),v=e("./user"),w=e("./utilities/instanceMethodBuilder")(),b=e("./built"),x=e("./role"),_=e("./notifications"),E=e("./installation"),S=e("./extension"),A=e("./analytics"),O=e("./session/cookie"),k=e("./session/local_storage"),C=e("./constants");e("./adaptors/RestfullAdaptor"),e("./adaptors/SocketAdaptor")}e("./realtime"),e("./utilities/user-agent-helper.js");var j="bauthtoken",U=t.exports=d.curry(function(e,o){var u={},s=b.Session[e.persistSession];m.isBrowser()||(s="NONE"),u.options=void 0!==e.headers?e:P(e.host,e.port,e.protocol,e.rtHost,e.rtPort,e.rtProtocol,e.version,e.adaptor,l(e,o),s,b.CachePolicy[e.cachePolicy],e.app_info,e.event_properties,e.socketData,e.isSessionUpdated,e.userJSON),u.Class=g(u,{},{}),m.copyProperties(u.Class,g);var a=(v(u,u.Class(C.APP_USER_CLS)),v(u,u.Class(C.APP_USER_CLS),{},{},{})),c=x(u,u.Class(C.APP_ROLE_CLS),{},{},{}),f=E(u,u.Class(C.APP_INSTALLATION_CLS),{},{},{}),p=_(u,{}),d=y(u,{},{}),h=A(u,{},[],n()),O=S.execute(u),k=y(u);return u.User=m.wrapper(a,[{}]),m.copyProperties(u.User,v),u.User.isAuthenticated=v.isAuthenticated(u),u.User.getSession=v.getSession(u),u.User.setSession=v.setSession(u),u.User.clearSession=v.clearSession(u),u.User.generateAuthtoken=v.generateAuthtoken(u),u.User.anyAuth=v.anyAuth(u),u.Upload=m.wrapper(d,[{}]),m.copyProperties(u.Upload,y),u.UploadCons=m.wrapper(k,[{},{},{}]),m.copyProperties(u.UploadCons,y),u.Role=m.wrapper(c,[{}]),m.copyProperties(u.Role,x),u.Role.getRoleQuery=u.Role.getRoleQuery(u),u.Notification=m.wrapper(p,[{}]),m.copyProperties(u.Notification,_),u.Installation=m.wrapper(f,[{}]),m.copyProperties(u.Installation,E),u.Extension={},u.Extension.execute=m.wrapper(O,[null,null]),u.Analytics=m.wrapper(h,[!0,1,{}]),r(u),i(u),w.build(t.exports,u)}),P=t.exports.consOptions=d.curry(function(e,t,n,r,i,o,u,s,a,c,f,l,p,d,h,g){return{host:e,port:t,protocol:n,rtHost:r,rtPort:i,rtProtocol:o,version:u,adaptor:s,headers:a,persistSession:c,cachePolicy:f,app_info:l,event_properties:p,socketData:d,isSessionUpdated:h,userJSON:g}}),T=t.exports.setAppOptions=function(e,t,n){var r=n.host,i=n.port,o=n.protocol,u=n.rtHost,s=n.rtPort,a=n.rtProtocol,c=n.version,f=n.adaptor,l=n.headers,p=n.persistSession,d=n.cachePolicy,h=n.app_info,g=n.event_properties,y=n.socketData,m=n.isSessionUpdated,v=n.userJSON;switch(e){case"host":r=t;break;case"port":i=t;break;case"protocol":o=t;break;case"rtHost":u=t;break;case"rtPort":s=t;break;case"rtProtocol":a=t;break;case"version":c=t;break;case"adaptor":f=t;break;case"headers":l=t;break;case"persistSession":p=t;break;case"cachePolicy":d=t;break;case"app_info":h=t;break;case"event_properties":g=t;break;case"socketData":y=t;break;case"isSessionUpdated":m=t;break;case"userJSON":v=t}return P(r,i,o,u,s,a,c,f,l,p,d,h,g,y,m,v)},L=t.exports.getOptions=d.prop("options");w.define("getOptions",1);var R=t.exports.getOption=function(e,t){return d.prop(e,L(t))};w.define("getOption",2);var B=t.exports.setOptions=d.curry(function(e,t){return U(e,D(t))});w.define("setOptions",2),t.exports.setSession=function(e,t){if(!e.authtoken)throw new Error("Authtoken not found in JSON");return t.setAuthToken(e.authtoken),t.setUserJSON(e),m.isBrowser()&&o(e,t),b.Events.trigger("user:save-session"),t},w.define("setSession",2),t.exports.clearSession=function(e){return e.setUserJSON(null),e.removeAuthToken(),m.isBrowser()&&(b.Session.COOKIE===L(e).persistSession?O.delete(p(D(e))):b.Session.LOCAL_STORAGE===L(e).persistSession&&k.delete(p(D(e)))),b.Events.trigger("user:clear-session"),e},w.define("clearSession",1),t.exports.getSession=function(e,t){var n=L(t).persistSession;if(t.isSessionUpdated()&&n!==b.Session.NONE||(e=!0),e)return t.setSessionUpdate(!0),u(t);var r=t.getUserJSON();if(r)return h(a(r,t));if(n===b.Session.COOKIE)return t=t.setAuthToken(O.get(p(D(t)))),u(t);if(n===b.Session.LOCAL_STORAGE){var i=h.defer(),o=k.get(p(D(t)));return o?i.resolve(t.Class(C.APP_USER_CLS).ObjectCons({},{},o,{})):i.reject(),i.promise}},w.define("getSession",2,[!1]),t.exports.generateAuthtoken=function(e,n,r,i){if(!d.prop("master_key",t.exports.getHeaders(i)))throw new Error("Master key not found in headers");if(!m.isQueryInstance(e))throw new Error("Query instance inappropriate");if(!m.isBoolean(n))throw new Error("Upsert argument should be a boolean value");if(!m.isObject(r))throw new Error("Update object inappropriate");var o={insert:n,query:e.getQueryObj(),application_user:r},u=m.getAdaptorObj("POST",t.exports.getURL(i)+"/application/users/generate_authtoken",t.exports.getHeaders(i),o,null);return s(i,u)},w.define("generateAuthtoken",4),t.exports.anyAuth=function(e,t,n,r){return r.Extension.execute(e,t,n).then(function(e){var t=r.Class(C.APP_USER_CLS).ObjectCons({},{},e.application_user,{});return r.setSession(t.toJSON()),t})},w.define("anyAuth",4);t.exports.setAuthToken=d.curry(function(e,t){var n=H(t);return n.authtoken=e,t.getOptions().userJSON=null,t});w.define("setAuthToken",2),t.exports.setUserJSON=d.curry(function(e,t){var n=T("userJSON",e,L(t));return t.options=n,t}),w.define("setUserJSON",2),t.exports.getUserJSON=function(e){return e.getOption("userJSON")},w.define("getUserJSON",1),t.exports.getAuthToken=function(e){return H(e).authtoken},w.define("getAuthToken",1),t.exports.removeAuthToken=function(e){var t=H(e);return delete t.authtoken,e},w.define("removeAuthToken",1);t.exports.isAuthenticated=function(e){return!!H(e).authtoken};w.define("isAuthenticated",1),t.exports.persistSessionWith=d.curry(function(e,t){e!==b.Session.LOCAL_STORAGE||f()||(e=b.Session.COOKIE);var n=L(t),r=T("persistSession",e,n),i=d.mixin(l(r,t.getApiKey(t)),n.headers);return r=T("headers",i,r),B(r,t)}),w.define("persistSessionWith",2);t.exports.validateCachePolicy=function(e){return!!b.CachePolicy[e]};w.define("validateCachePolicy",2),t.exports.setCachePolicy=d.curry(function(e,t){if(t.validateCachePolicy(e)){{var n=L(t),r=T("cachePolicy",e,n);B(r,t)}return B(r,t)}throw new Error("Invalid cache policy")}),w.define("setCachePolicy",2),t.exports.getCachePolicy=function(e){return L(e).cachePolicy},w.define("getCachePolicy",1);var N=t.exports.setHeader=d.curry(function(e,t,n){var r=L(n),i=d.mixin({},r.headers);i[e]=t;var o=T("headers",i,r);return B(o,n)});w.define("setHeader",3);var I=t.exports.removeHeader=d.curry(function(e,t){var n=L(t),r=d.mixin({},n.headers);delete r[e];var i=T("headers",r,n);return B(i,t)});w.define("removeHeader",2),t.exports.setHost=d.curry(function(e,t){var n=L(t),r=T("host",e,n);return B(r,t)}),w.define("setHost",2);var M=d.curry(function(e,t,n){var r=L(n),i=T(e,t,r);return B(i,n)});t.exports.setRtHost=M("rtHost"),w.define("setRtHost",2),t.exports.setPort=d.curry(function(e,t){if("number"!=typeof e)throw new Error("Port number should be number");var n=L(t),r=T("port",e,n);return B(r,t)}),w.define("setPort",2),t.exports.setRtPort=d.curry(function(e,t){if("number"!=typeof e)throw new Error("Port number should be number");return M("rtPort",e,t)}),w.define("setRtPort",2),t.exports.setProtocol=d.curry(function(e,t){if("http"!==e&&"https"!==e)throw new Error("Supported protocols are http and https");var n=L(t),r=T("protocol",e,n);return B(r,t)}),w.define("setProtocol",2),t.exports.setRtProtocol=d.curry(function(e,t){if("http"!==e&&"https"!==e)throw new Error("Supported protocols are http and https");return M("rtProtocol",e,t)}),w.define("setRtProtocol",2),t.exports.setMasterKey=N("master_key"),w.define("setMasterKey",2),t.exports.getMasterKey=function(e){return e.getHeaders().master_key},w.define("getMasterKey",1),t.exports.setTenant=N("tenant_uid"),w.define("setTenant",2),t.exports.removeMasterKey=I("master_key"),w.define("removeMasterKey",2),t.exports.removeTenant=I("tenant_uid"),w.define("removeTenant",1);var H=t.exports.getHeaders=function(e){return e.options.headers};w.define("getHeaders",1);t.exports.getURL=function(e){var t=L(e);return t.protocol+"://"+t.host+":"+t.port+"/"+t.version};w.define("getURL",1),t.exports.getVersion=function(e){return L(e).version},w.define("getVersion",1),t.exports.setVersion=d.curry(function(e,t){var n=L(t),r=T("version",e,n);return B(r,t)}),w.define("setVersion",2),t.exports.setAdaptor=d.curry(function(t,n){var r=L(n),i=d.mixin({},e(t));t===b.Adaptor.SOCKET&&(i.makeCall=i.makeCall(n));var o=T("adaptor",i,r);return n.options=o,n}),w.define("setAdaptor",2),t.exports.setSessionUpdate=d.curry(function(e,t){var n=L(t),r=T("isSessionUpdated",e,n);return B(r,t)}),w.define("setSessionUpdate",2),t.exports.isSessionUpdated=function(e){return R("isSessionUpdated",e)},w.define("isSessionUpdated",1),t.exports.fetch=function(e){var n=L(e),r=e.options.adaptor,i=e.getURL()+"/applications/abc",o=m.getAdaptorObj("GET",i,t.exports.getHeaders(e),null,null);return r.makeCall(o).then(function(t){t=t.entity.application;var r={name:t.name,uid:t.uid,app_variables:t.application_variables};return B(T("app_info",r,n),e)})},w.define("fetch",1),t.exports.getName=function(e){return L(e).app_info.name},w.define("getName",1);var D=t.exports.getApiKey=function(e){return L(e).headers.application_api_key};w.define("getApiKey",1),t.exports.getAppVariables=function(e){return L(e).app_info.app_variables},w.define("getAppVariables",1)},{"../config":1,"./adaptors/RestfullAdaptor":3,"./adaptors/SocketAdaptor":4,"./analytics":5,"./built":8,"./class":9,"./constants":10,"./extension":12,"./installation":13,"./notifications":15,"./realtime":30,"./role":19,"./session/cookie":20,"./session/local_storage":21,"./upload":22,"./user":23,"./utilities/instanceMethodBuilder":24,"./utilities/user-agent-helper.js":26,"./utilities/utility":27,ramda:52,when:83}],8:[function(e,t){pluginsHelper={plugins:[],registerPlugin:function(e,t){var n={};n[e]=t,this.plugins.push(n)}};var n=e("ramda"),r=e("../config"),i=e("./acl"),o=e("./utilities/utility"),u=e("./app"),s=e("./location"),a=n.mixin({},r),c=e("./events"),f=e("./presence"),l=e("./constants");a.adaptor=e("./adaptors/RestfullAdaptor");var p="./adaptors/RestfullAdaptor",d="./adaptors/SocketAdaptor",h={COOKIE:"COOKIE",LOCAL_STORAGE:"LOCAL_STORAGE",NONE:"NONE"},l={APPLICATION_USER:l.APP_USER_CLS,APPLICATION_USER_ROLE:l.APP_ROLE_CLS,INSTALLATION:l.APP_INSTALLATION_CLS},g={ONLY_NETWORK:"ONLY_NETWORK",CACHE_ELSE_NETWORK:"CACHE_ELSE_NETWORK",NETWORK_ELSE_CACHE:"NETWORK_ELSE_CACHE",CACHE_THEN_NETWORK:"CACHE_THEN_NETWORK"},y={HTTP:p,SOCKET:d};t.exports.Constants=l,t.exports.Session=h,t.exports.CachePolicy=g,t.exports.Adaptor=y,t.exports.App=u(a),t.exports.ACL=o.wrapper(i,[{}]),t.exports.Location=o.wrapper(s,["",""]),t.exports.Events=c,t.exports.Presence=o.wrapper(f,[{}]),o.copyProperties(t.exports.ACL,i),o.copyProperties(t.exports.App,u),o.copyProperties(t.exports.Location,s),o.copyProperties(t.exports.Presence,f),Built=t.exports,Built=t.exports},{"../config":1,"./acl":2,"./adaptors/RestfullAdaptor":3,"./app":7,"./constants":10,"./events":11,"./location":14,"./presence":17,"./utilities/utility":27,ramda:52}],9:[function(e,t){function n(e){pluginsHelper.plugins.map(function(t){t.realtime&&t.realtime.onClassInstance&&t.realtime.onClassInstance(e)})}function r(e){pluginsHelper.plugins.map(function(t){t.realtime&&t.realtime.onObjectCons&&t.realtime.onObjectCons(e)})}var i=e("ramda"),o=e("./object"),u=e("./user"),s=e("./installation"),a=e("./role"),c=e("./query"),f=e("./built"),l=e("./utilities/utility"),p=e("./utilities/instanceMethodBuilder")(),d="built_io_application_user",h="built_io_application_user_role",g="built_io_installation_data",y={};y[d]=u,y[h]=a,y[g]=s;t.exports=i.curry(function(e,f,y,m){var v={app:e,headers:f,data:y,uid:m},w=l.wrapper(o(e,v,{},{},{}),[{}]),b=l.wrapper(u(e,v,{},{},{}),[{}]),x=l.wrapper(a(e,v,{},{},{}),[{}]),_=l.wrapper(s(e,v,{},{},{}),[{}]),E=l.wrapper(o(e,v),[{},{},{},{}]),S=l.wrapper(u(e,v),[{},{},{},{}]),A=l.wrapper(a(e,v),[{},{},{},{}]),O=l.wrapper(s(e,v),[{},{},{},{}]);switch(m){case d:v.Object=b,v.ObjectCons=S,l.copyProperties(v.Object,u),l.copyProperties(v.ObjectCons,u);break;case h:v.Object=x,v.ObjectCons=A,l.copyProperties(v.Object,a),l.copyProperties(v.ObjectCons,a);break;case g:v.Object=_,v.ObjectCons=O,l.copyProperties(v.Object,s),l.copyProperties(v.ObjectCons,s);break;default:v.Object=w,v.ObjectCons=E,l.copyProperties(v.Object,o),l.copyProperties(v.ObjectCons,o)}var k=c(e,v,{},e.options.cachePolicy);return v.Query=i.wrap(k,function(e,t){return e(t?t:{})}),l.copyProperties(v.Query,c),n(v),r(v),p.build(t.exports,v)});t.exports.getHeaders=function(e){return e.headers},p.define("getHeaders",1);var m=t.exports.getCombinedHeaders=function(e){return{headers:i.mixin(e.headers,f.App.getHeaders(e.app))}};p.define("getCombinedHeaders",1),t.exports.getSchema=function(e){var t=e.app.options.adaptor,n=l.getAdaptorObj("GET",v(e),m(e).headers,null,null);return t.makeCall(n).then(function(e){return e.entity.class.schema})},p.define("getSchema",1);var v=t.exports.getURL=function(e){return f.App.getURL(e.app)+"/classes/"+e.uid};p.define("getURL",1),t.exports.getUid=function(e){return e.uid},p.define("getUid",1),t.exports.isNew=function(e){return!!e.uid},p.define("isNew",1)},{"./built":8,"./installation":13,"./object":16,"./query":18,"./role":19,"./user":23,"./utilities/instanceMethodBuilder":24,"./utilities/utility":27,ramda:52}],10:[function(e,t){t.exports.APP_USER_CLS="built_io_application_user",t.exports.APP_ROLE_CLS="built_io_application_user_role",t.exports.APP_INSTALLATION_CLS="built_io_installation_data"},{}],11:[function(e,t){var n=(e("ramda"),e("./utilities/utility"),e("./utilities/instanceMethodBuilder")(),{});n["http:start"]=[],n["http:end"]=[],n["upload:start"]=[],n["upload:end"]=[],n["user:register"]=[],n["user:activate"]=[],n["user:deactivate"]=[],n["user:login"]=[],n["user:logout"]=[],n["user:save-session"]=[],n["user:clear-session"]=[],n["user:set-current-user"]=[],t.exports.trigger=function(e,t){n[e].map(function(e){e(t)})},t.exports.on=function(e,t){var r=n[e];r.push(t)},t.exports.off=function(e,t){var r=n[e];if(2===arguments.length){var i=r.indexOf(t);i>-1&&r.splice(i,1)}else r=[]}},{"./utilities/instanceMethodBuilder":24,"./utilities/utility":27,ramda:52}],12:[function(e,t){function n(e,t){return t.getURL()+u+"/"+e}function r(e,t){t=t||{};var n=i.mixin(e.getHeaders(),t);return n}var i=e("ramda"),o=e("./utilities/utility"),u="/functions";t.exports.execute=i.curry(function(e,t,u,s){var a=e.options.adaptor,c=n(t,e),f=o.getAdaptorObj("POST",c,r(e,s),u,null);return a.makeCall(f).then(function(e){return i.prop("result",e.entity)})})},{"./utilities/utility":27,ramda:52}],13:[function(e,t){{var n=e("ramda"),r=e("./object"),i=e("./utilities/utility"),o=e("./utilities/instanceMethodBuilder")();t.exports=n.curry(function(e,n,i,u,s,a){var c=r(e,n,i,{},s,a);return c.cons=t.exports,o.build(t.exports,c)})}i.copyProperties(t.exports,r),t.exports.setCurrentTimeZone=function(e){var t=(new Date).getTimezoneOffset(),n=Math.abs(t)<60?(0>t?"+":"-")+"0:"+Math.abs(t):(0>t?"+":"-")+(Math.floor(Math.abs(t)/60)+":"+Math.abs(t)%60);return e.set("timezone",n)},o.define("setCurrentTimeZone",1),t.exports.setDeviceToken=t.exports.set("device_token"),o.define("setDeviceToken",2),t.exports.setDeviceType=t.exports.set("device_type"),o.define("setDeviceType",2),t.exports.subscribeChannels=n.curry(function(e,t){if(!i.isArray(e))throw new Error("Channels should be array");return t.pushValue("subscribed_to_channels",e,t)}),o.define("subscribeChannels",2),t.exports.unsubscribeChannels=n.curry(function(e,t){if(!i.isArray(e))throw new Error("Channels should be array");return t.pullValue("subscribed_to_channels",e,t)}),o.define("unsubscribeChannels",2);var u=t.exports.getDeviceToken=t.exports.get("device_token");o.define("getDeviceToken",1),t.exports.getDeviceType=t.exports.get("device_type"),o.define("getDeviceType",1),t.exports.getSubscribedChannelList=function(e){var t=e.get("subscribed_to_channels");return t?t:e.delta.subscribed_to_channels.PUSH.data},o.define("getSubscribedChannelList",1),t.exports.save=function(e){return e.get("uid")||(e=e.upsert({device_token:u(e)})),r.save(e).then(function(e){return e})},o.define("save",1)},{"./object":16,"./utilities/instanceMethodBuilder":24,"./utilities/utility":27,ramda:52}],14:[function(e,t){function n(e,t){if("number"!=typeof e||"number"!=typeof t)throw new TypeError("Invalid data type");if(-180>e||e>180)throw new Error("Longitutde should be in the range of -180 to 180");if(-90>t||t>90)throw new Error("Latitude should be in the range of -90 to 90")}function r(e,t,n,r,i){var o=Math.PI/180,u=6378.1*i,s=t*o,a=e*o,c=r*o,f=n*o,l=a-f,p=s-c,d=Math.pow(Math.sin(p/2),2)+Math.cos(s)*Math.cos(c)*Math.pow(Math.sin(l/2),2),h=2*Math.atan2(Math.sqrt(d),Math.sqrt(1-d)),g=u*h;return Math.ceil(g)}var i=e("ramda"),o=(e("./utilities/utility"),e("./utilities/instanceMethodBuilder")()),u=e("when"),s=t.exports=function(e,r){var i={};e&&r&&n(e,r),i.longitude=e,i.latitude=r;var u={toJSON:function(){return i},data:i};return o.build(t.exports,u)};t.exports.setLocation=i.curry(function(e,t){return s(e,t)}),o.define("setLocation",3),t.exports.getCurrentLocation=function(){var e=u.defer();return"undefined"!=typeof navigator&&"undefined"!=typeof navigator.geolocation&&navigator.geolocation.getCurrentPosition(function(t){return e.resolve(s(t.coords.longitude,t.coords.latitude))},function(t){e.reject(t)}),e.promise},t.exports.kilometersFrom=function(e,t){var n=e.toJSON(),i=t.toJSON();return r(i.longitude,i.latitude,n.longitude,n.latitude,1)},o.define("kilometersFrom",2),t.exports.metersFrom=function(e,t){var n=e.toJSON(),i=t.toJSON();return r(i.longitude,i.latitude,n.longitude,n.latitude,1e3)},o.define("metersFrom",2),t.exports.milesFrom=function(e,t){var n=e.toJSON(),i=t.toJSON();return r(i.longitude,i.latitude,n.longitude,n.latitude,.621371)},o.define("milesFrom",2)},{"./utilities/instanceMethodBuilder":24,"./utilities/utility":27,ramda:52,when:83}],15:[function(e,t){function n(t){var n=e("./built");return n.App.getURL(t.app)+""+a}function r(e){return o.mixin({},i(e))}function i(e){return e.data}var o=e("ramda"),u=e("./utilities/utility"),s=e("./utilities/instanceMethodBuilder")(),a="/push",c=t.exports=o.curry(function(e,n,r){var i={app:e,headers:n,data:r,toJSON:function(){return r}};return s.build(t.exports,i)}),f=o.curry(function(e,t,n){if("send_at"===e&&t instanceof Date)t=t.toISOString();else if("send_at"===e&&!(t instanceof Date))throw new Error("JavaScript Date object required");var i=r(n);return i[e]=t,c(n.app,n.headers,i)});t.exports.addUsers=f("user_uids"),s.define("addUsers",2),t.exports.atTime=f("send_at"),s.define("atTime",2),t.exports.inLocalTime=f("local_push"),s.define("inLocalTime",2,[!1]),t.exports.setMessage=f("message"),s.define("setMessage",2),t.exports.send=function(e){var t=e.app.options.adaptor,r={push:i(e)},o=u.getAdaptorObj("POST",n(e),getCombinedHeaders(e),r,null);return t.makeCall(o).then(function(){return null},function(){})},s.define("send",1),getCombinedHeaders=function(t){var n=e("./built");return o.mixin(t.headers,n.App.getHeaders(t.app))}},{"./built":8,"./utilities/instanceMethodBuilder":24,"./utilities/utility":27,ramda:52}],16:[function(e,t){function n(e){pluginsHelper.plugins.map(function(t){t.realtime&&t.realtime.onObjectInstance&&t.realtime.onObjectInstance(e)
})}function r(e,t){return e.cls.ObjectCons(e.headers,{},t,{})}function i(e,t){var n;return n=e?e.extend({sync:u(t)}):o(t)}function o(e){var t=Backbone.Model.extend({idAttribute:"uid",sync:u(e)});return t}function u(e){return function(t,n,r){2==arguments.length&&(r=n,n=this),r=r||{};var i=l.mixin(n.changed,f(e)),o=e.cls.ObjectCons(e.headers,c(e),w(e),i);return"read"==t?o.fetch().then(function(e){r.success(e.toJSON())},function(e){r.error(e)}):"create"==t||"update"==t?o.save().then(function(e){r.success(e.toJSON())},function(e){r.error(e)}):"delete"==t&&o.delete().then(function(e){r.success(e)},function(e){r.error(e)}),null}}function s(e,t,n,r){if(!p.isNumber(n))throw new Error("Not a number");var i=l.mixin({},f(r)),o=!!f(r)[t];return o?i[t][e]=n:i[t]=p.keyValue(e,n),r.cls.ObjectCons(r.headers,c(r),w(r),i)}function a(e,t,n,r,i){if(""!==r&&!p.isNumber(r))throw new Error("Index value inappropriate");var o=p.keyValue(t,p.keyValue(e,{data:n,index:r})),u=l.mixin(f(i),o);return i.cls.ObjectCons(i.headers,c(i),w(i),u)}function c(e){return e.query}function f(e){return e.delta}{var l=e("ramda"),p=e("./utilities/utility"),d=e("./utilities/instanceMethodBuilder")(),h=e("./built"),g="/objects",y=t.exports=l.curry(function(e,r,i,o,u,s){var a={},c={};a=p.isObject(s)?s:{uid:s},c=p.isEmpty(u)?a:u;var f={app:e,cls:r,headers:i,query:o,data:c,delta:a,toJSON:function(){return c}};return f=d.build(t.exports,f),n(f),f});t.exports.get=l.curry(function(e,t){return w(t)[e]})}d.define("get",2);var m=t.exports.getHeaders=function(e){return e.headers};d.define("getHeaders",1),t.exports.getCombinedHeaders=function(t){var n=e("./class"),r=n.getCombinedHeaders(t.cls),i=l.mixin(r.headers,t.headers);return i},d.define("getCombinedHeaders",1);t.exports.setHeader=l.curry(function(e,t,n){var r=n.headers,i=l.mixin({},r);return i[e]=t,n.cls.ObjectCons(i,c(n),w(n),f(n))});d.define("setHeader",3),t.exports.removeHeader=l.curry(function(e,t){var n=l.mixin({},t.headers);return delete n[e],t.cls.ObjectCons(n,c(t),w(t),f(t))}),d.define("removeHeader",2);var v=t.exports.getURL=function(t){var n=e("./class");return t.isNew()?n.getURL(t.cls)+g+"/"+t.getUid():n.getURL(t.cls)+g};d.define("getURL",1),t.exports.decrement=l.curry(function(e,t,n){return s("SUB",e,t,n)}),d.define("decrement",3),t.exports.increment=l.curry(function(e,t,n){return s("ADD",e,t,n)}),d.define("increment",3),t.exports.divide=l.curry(function(e,t,n){return s("DIV",e,t,n)}),d.define("divide",3),t.exports.multiply=l.curry(function(e,t,n){return s("MUL",e,t,n)}),d.define("multiply",3);var w=t.exports.getData=function(e){return e.data};d.define("getData",1),t.exports.assign=l.curry(function(e,t){var n=l.mixin(w(t),e),r=l.mixin(f(t),e);return t.cls.ObjectCons(t.headers,c(t),n,r)}),d.define("assign",2);var b=t.exports.set=l.curry(function(e,t,n){var r=l.mixin({},w(n)),i=l.mixin({},f(n));return r[e]=t,i[e]=t,n.cls.ObjectCons(n.headers,c(n),r,i)});d.define("set",3),d.define("setTags",2);t.exports.getUid=function(e){return f(e).uid||w(e).uid};d.define("getUid",1),t.exports.setUid=b("uid"),d.define("setUid",2),t.exports.setTags=l.curry(function(e,t){var n=f(t);return n.tags=e,t.cls.ObjectCons(t.headers,c(t),w(t),n)}),d.define("setTags",2),t.exports.setLocation=l.curry(function(e,t){var n=l.mixin({},f(t)),r=e.toJSON();return n.__loc=[r.longitude,r.latitude],t.cls.ObjectCons(t.headers,c(t),w(t),n)}),d.define("setLocation",2),t.exports.getLocation=l.curry(function(e){var t=h.Location,n=e.get("__loc"),r=t(n[0],n[1]);return r}),d.define("getLocation",1),t.exports.isNew=function(e){return!!e.getUid()},d.define("isNew",1),t.exports.pushValueAtIndex=l.curry(function(e,t,n,r){return a("PUSH",e,t,n,r)}),d.define("pushValueAtIndex",4),t.exports.pushValue=l.curry(function(e,t,n){return a("PUSH",e,t,"",n)}),d.define("pushValue",3),t.exports.pullValue=l.curry(function(e,t,n){return a("PULL",e,t,"",n)}),d.define("pullValue",3),t.exports.pullValueAtIndex=l.curry(function(e,t,n){return a("PULL",e,"",t,n)}),d.define("pullValueAtIndex",3),t.exports.upsert=l.curry(function(e,t){var n=l.mixin({},f(t));return n.UPSERT=e,t.cls.ObjectCons(t.headers,c(t),w(t),n)}),d.define("upsert",2),t.exports.has=l.curry(function(e,t){return t.data.hasOwnProperty(e)}),d.define("has",2),t.exports.setACL=l.curry(function(e,t){var n=l.mixin({},f(t));return n.ACL=e.toJSON(),t.cls.ObjectCons(t.headers,c(t),w(t),n)}),d.define("setACL",2),t.exports.setReference=l.curry(function(e,t,n){var r=l.mixin({},f(n)),i=t.slice(0);if(t[0]&&t[0].app)for(var o=0;o<t.length;o++){if(!t[o].getUid())throw new Error("Uid not found");i.push(f(t[o]).uid)}return r[e]=i,n.cls.ObjectCons(n.headers,c(n),w(n),r)}),d.define("setReference",3),t.exports.setReferenceWhere=l.curry(function(e,t,n){if(!n.isNew())throw new Error("Uid not found");var r=l.mixin({},f(n));return r[e]={where:t},n.cls.ObjectCons(n.headers,c(n),w(n),r)}),d.define("setReferenceWhere",3),t.exports.upsertForReference=l.curry(function(e,t,n,r){if(!r.isNew())throw new Error("Uid not found");var i=l.mixin(n,f(r));return i[e]={UPSERT:t},r.cls.ObjectCons(r.headers,c(r),w(r),i)}),d.define("upsertForReference",4),t.exports.timeless=function(e){var t=m(e);return t.timeless=!0,e.cls.ObjectCons(t,c(e),w(e),f(e))},d.define("timeless",1);var x=t.exports.addQuery=l.curry(function(e,t,n){var r=l.mixin({},c(n));return r[e]=t,n.cls.ObjectCons(n.headers,r,w(n),f(n))});d.define("addQuery",3),t.exports.includeOwner=x("include_owner",!0),d.define("includeOwner",1),t.exports.saveAsDraft=function(e){var n=l.mixin({},f(e));n.published=!1;var r=e.cls.ObjectCons(e.headers,c(e),w(e),n);return t.exports.save(r)},d.define("saveAsDraft",1),t.exports.save=function(e){var n,i={object:f(e)},o=e.app.options.adaptor;n=e.isNew()?"PUT":"POST";var u=c(e);0===Object.keys(u).length&&(u=null);var s=p.getAdaptorObj(n,v(e),t.exports.getCombinedHeaders(e),i,u);return o.makeCall(s).then(function(t){if(t.entity.count){var n=[];return n.push(t.entity.count),n.push(r(e,t.entity.object)),n}return r(e,t.entity.object)})},d.define("save",1),t.exports.fetch=function(e){var n=e.app.options.adaptor,r=c(e);if(0===Object.keys(r).length&&(r=null),!e.isNew())throw new Error("Uid not found");var i=p.getAdaptorObj("GET",t.exports.getURL(e),t.exports.getCombinedHeaders(e),null,r);return n.makeCall(i).then(function(t){return e.cls.ObjectCons(m(e),c(e),t.entity.object,f(e))})},d.define("fetch",1),t.exports.delete=function(e){var n=e.app.options.adaptor;if(!e.isNew())throw new Error("Uid not found");var r=p.getAdaptorObj("DELETE",t.exports.getURL(e),t.exports.getCombinedHeaders(e),null,null);return n.makeCall(r).then(function(){return null})},d.define("delete",1),t.exports.toBackboneModel=function(e,t){if(!p.backboneExist())throw new Error("BACKBONE not included");var n=i(e,t);return p.isObject(t)?new n(t.toJSON()):void 0},d.define("toBackboneModel",2,[null]),y.BackboneCollection=function(e){var t=this;if(p.backboneExist()){if(e.objects){var n=Backbone.Collection.extend({sync:function(n,r,o){2==arguments.length&&(o=r,r=this),o=o||{};var u=this;if("read"===n&&t){var s=t.cls.Query();s.exec().then(function(t){for(var n=0;n<t.length;n++)if("object"==typeof t[n]){var r=i(e.model,t[n]);u.add(new r(t[n].toJSON()))}o.success(u.models)},function(e){o.error(e)})}return null}});n=new n;for(var r=0;r<e.objects.length;r++)if("object"==typeof e.objects[r]){var o=i(e.model,e.objects[r]);n.add(new o(e.objects[r].toJSON()))}return n}if(e.query){var n=Backbone.Collection.extend({sync:function(t,n,r){2==arguments.length&&(r=n,n=this),r=r||{};var o=this;if("read"==t){var u=e.query;u.exec().then(function(t){for(var n=0;n<t.length;n++){var u=i(e.model,t[n]);o.add(new u(t[n].toJSON()))}r.success(o.models)},function(e){r.error(e)})}return null}});return new n}new Error("Config argument not set properly")}}},{"./built":8,"./class":9,"./utilities/instanceMethodBuilder":24,"./utilities/utility":27,ramda:52}],17:[function(e,t){function n(e){return r.mixin({},a(e))}var r=e("ramda"),i=e("./utilities/utility"),o=e("./utilities/instanceMethodBuilder")(),u=e("when"),s=t.exports=r.curry(function(e,n){var r={toJSON:function(){return n},data:n,app:e};return o.build(t.exports,r)}),a=r.prop("data"),c=t.exports.set=r.curry(function(e,t,r){var i=n(r);return i[e]=t,s(r.app,i)});t.exports.setState=c("state"),o.define("setState",2),t.exports.setPublic=c("public"),o.define("setPublic",2),t.exports.enable=c("enabled"),o.define("enable",2),t.exports.setWhiteList=r.curry(function(e,t){if(!i.isArray(e))throw new Error("Whitelist must be array");return c("whitelist",e,t)}),o.define("setWhiteList",2),t.exports.save=function(e){return l("setPresence",a(e),e)},o.define("save",1);var f=t.exports.get=r.curry(function(e,t){return r.prop(e,a(t))});t.exports.getRequests=f("requests"),o.define("getRequests",1),t.exports.getState=f("state"),o.define("getState",1),t.exports.isPublic=f("public"),o.define("isPublic",1),t.exports.isEnabled=f("enabled"),o.define("isEnabled",1),t.exports.getApplicationUser=function(e){return r.prop("application_user",a(e))},o.define("getApplicationUser",1);var l=r.curry(function(e,t,n){function r(n){n.emit(e,t,function(e,t){e&&o.reject(e),!e&&t&&o.resolve(s(i,t.presence))})}var i=n.app,o=(i.getSocket(),u.defer());return i.isSocketConnected()?i.isSocketAuthStarted()?i.getAdhocOperations().push(r):r(i.getSocket()):i.getAdhocOperations().push(r),o.promise})},{"./utilities/instanceMethodBuilder":24,"./utilities/utility":27,ramda:52,when:83}],18:[function(e,t){function n(e,t){return d.isArray(e)?t(e):r(e,t)}function r(e,t){var n={};return e.created_at&&(n.created=t(e.created_at)),e.deleted_at&&(n.deleted=t(e.deleted_at)),e.updated_at&&(n.updated=t(e.updated_at)),n}function i(e){return e}function o(e){return{conditions:x(e),headers:e.headers}}function u(e){return g(JSON.stringify(e))}function s(e){var t=y.defer();if(d.isLocalStroageAvaliable()){var n=localStorage.getItem(e);n?t.resolve(JSON.parse(n)):t.reject(null)}else t.reject();return t.promise}function a(e){var n=e.app.options.adaptor,r=p.mixin({},x(e));r._method="GET";var i=d.getAdaptorObj("POST",f(e),t.exports.getCombinedHeaders(e),r,null);return c(i,n)}function c(e,t){return t.makeCall(e).then(function(e){return e.entity})}function f(t){var n=e("./class");return n.getURL(t.cls)+"/objects"}function l(){for(var e=null,t={},n=0;n<arguments.length;n++){var r=arguments[n];n%2===0?e=r:t[e]=r}return t}var p=e("ramda"),d=e("./utilities/utility"),h=(e("./object"),e("./utilities/instanceMethodBuilder")()),g=e("blueimp-md5").md5,y=e("when"),m=e("./built"),v="BACKBONE_TRANSFORM",w="JSON_TRANSFORM",b=t.exports=p.curry(function(e,n,r,i,o){var u={app:e,cls:n,headers:r,cachePolicy:i,data:o||{}};return h.build(t.exports,u)}),x=t.exports.getConditions=p.prop("data");h.define("getConditions",1);var _=t.exports.getQueryObj=p.compose(p.prop("query"),x);h.define("getQueryObj",1),t.exports.getTransform=p.compose(p.prop("transform"),p.prop("data")),h.define("getTransform",1),t.exports.toJSON=function(e){var t=p.mixin({},x(e));return t.transform=w,b(e.app,e.cls,e.headers,e.cachePolicy,t)},h.define("toJSON",1),t.exports.toBackbone=function(e){var t=p.mixin({},x(e));return t.transform=v,b(e.app,e.cls,e.headers,e.cachePolicy,t)},h.define("toBackbone",1);var E=t.exports.setHeader=p.curry(function(e,t,n){var r=n.headers,i=p.mixin({},r);return i[e]=t,b(n.app,n.cls,i,n.cachePolicy,x(n))});h.define("setHeader",3);var S=t.exports.removeHeader=p.curry(function(e,t){var n=t.header,r=p.mixin({},n);return delete r[e],b(t.app,t.cls,r,t.cachePolicy,x(t))});h.define("removeHeader",2),t.exports.setMasterKey=E("master_key"),h.define("setMasterKey",2),t.exports.removeMasterKey=S("master_key"),h.define("removeMasterKey",1),t.exports.getHeaders=function(e){return e.headers},h.define("getHeaders",1),t.exports.getCombinedHeaders=function(t){var n=e("./class"),r=n.getCombinedHeaders(t.cls),i=p.mixin(r.headers,t.headers);return i},h.define("getCombinedHeaders",1);var A=p.curry(function(e,t,n){var r=p.mixin({},x(n)),i=p.mixin({},_(n));return i[t]={$exists:e},r.query=i,b(n.app,n.cls,n.headers,n.cachePolicy,r)});t.exports.exists=A(!0),h.define("exists",2),t.exports.doesNotExists=A(!1),h.define("doesNotExists",2);var O=p.curry(function(e,t,n,r,i){var o=p.mixin({},x(i)),u=p.mixin({},_(i));return u[t]=l(e,{query:x(n).query,class_uid:n.cls.uid,key:r}),o.query=u,b(i.app,i.cls,i.headers,i.cachePolicy,o)});t.exports.select=O("$select"),h.define("select",4),t.exports.dontSelect=O("$dont_select"),h.define("dontSelect",4),t.exports.where=p.curry(function(e,t,n){var r=p.mixin({},x(n)),i=p.mixin({},_(n));return i[e]=t,r.query=i,b(n.app,n.cls,n.headers,n.cachePolicy,r)}),h.define("where",3);var k=t.exports.addQueryParams=p.curry(function(e,t,n){var r=p.mixin({},x(n));return r[e]=t,b(n.app,n.cls,n.headers,n.cachePolicy,r)});h.define("addQueryParams",3),t.exports.includeCount=k("include_count",!0),h.define("includeCount",1),t.exports.count=k("count",!0),h.define("count",1),t.exports.include=k("include"),h.define("include",2),t.exports.skip=k("skip"),h.define("skip",2),t.exports.limit=k("limit"),h.define("limit",2),t.exports.includeOwner=k("include_owner",!0),h.define("includeOwner",1),t.exports.includeSchema=k("include_schema",!0),h.define("includeSchema",1),t.exports.includeDrafts=k("include_unpublished",!0),h.define("includeDrafts",1),t.exports.onlyDrafts=function(e){var t=e.includeDrafts(),n=p.mixin({},x(t)),r=p.mixin({},_(t));return r.published=!1,n.query=r,b(e.app,e.cls,e.headers,e.cachePolicy,n)},h.define("onlyDrafts",1);var C=p.curry(function(e,t,n,r){var i=p.mixin({},x(r)),o=p.mixin({},_(r));return o[t]=l(e,_(n)),i.query=o,b(r.app,r.cls,r.headers,r.cachePolicy,i)});t.exports.inQuery=C("$in_query"),h.define("inQuery",3),t.exports.notInQuery=C("$nin_query"),h.define("notInQuery",3),t.exports.matches=p.curry(function(e,t,n,r){var i=p.mixin({},x(r)),o=p.mixin({},_(r));return o[e]={$regex:t,$options:n},i.query=o,b(r.app,r.cls,r.headers,r.cachePolicy,i)}),h.define("matches",4,[null]),t.exports.withinLocation=p.curry(function(e,t){var n=p.mixin({},x(t)),r=p.mixin({},_(t));if(!d.isArray(e))throw new Error("Locations should be a Array");if(e.length<3)throw new Error("Minimum 3 locations or objectUids required");var i=e.map(function(e){if(e.data)return[e.toJSON().longitude,e.toJSON.latitude];if(d.isString(e))return{object:e};throw new Error("Invalid parameter"+e)});return r.$within=i,n.query=r,b(t.app,t.cls,t.headers,t.cachePolicy,n)}),t.exports.containedIn=p.curry(function(e,t,n){var r=p.mixin({},x(n)),i=p.mixin({},_(n));return d.isArray(t)||(t=[t]),i[e]={$in:t},r.query=i,b(n.app,n.cls,n.headers,n.cachePolicy,r)}),h.define("containedIn",3),t.exports.notContainedIn=p.curry(function(e,t,n){var r=p.mixin({},x(n)),i=p.mixin({},_(n));return d.isArray(t)||(t=[t]),i[e]={$nin:t},r.query=i,b(n.app,n.cls,n.headers,n.cachePolicy,r)}),h.define("notContainedIn",3),t.exports.ascending=k("asc"),h.define("ascending",2),t.exports.descending=k("desc"),h.define("descending",2),t.exports.beforeUid=k("before_uid"),h.define("beforeUid",2),t.exports.afterUid=k("after_uid"),h.define("afterUid",2);var j=p.curry(function(e,t,n){var r=p.mixin({},x(n)),i=p.mixin({},_(n));i[e]=[];for(var o=0;o<t.length;o++){var u=x(t[o]).query;i[e].push(u)}return r.query=i,b(n.app,n.cls,n.headers,n.cachePolicy,r)});t.exports.and=j("$and"),h.define("and",2),t.exports.or=j("$or"),h.define("or",2);var U=p.curry(function(e,t,n,r){var i=p.mixin({},x(r)),o=p.mixin({},_(r));return o[t]=l(e,n),i.query=o,b(r.app,r.cls,r.headers,r.cachePolicy,i)});t.exports.greaterThan=U("$gt"),h.define("greaterThan",3),t.exports.greaterThanOrEqualTo=U("$gte"),h.define("greaterThanOrEqualTo",3),t.exports.lessThan=U("$lt"),h.define("lessThan",3),t.exports.lessThanOrEqualTo=U("$lte"),h.define("lessThanOrEqualTo",3),t.exports.notEqualTo=U("$ne"),h.define("notEqualTo",3),t.exports.setCachePolicy=p.curry(function(e,t){if(t.app.validateCachePolicy(e))return b(t.app,t.cls,t.headers,e,x(t));throw new Error("Invalid cache policy")}),h.define("setCachePolicy",2);{var P=p.curry(function(e,t){return d.isLocalStroageAvaliable()&&localStorage.setItem(e,JSON.stringify(t)),t}),T=p.curry(function(e,t,n){t instanceof Date&&(t=t.toISOString());var r=p.mixin({},x(n)),i=p.mixin({},r.delta);return i[e]=t,r.delta=i,b(n.app,n.cls,n.headers,n.cachePolicy,r)});t.exports.deltaCreatedFrom=T("created_at")}h.define("deltaCreatedFrom",2);t.exports.deltaUpdatedFrom=T("updated_at");h.define("deltaUpdatedFrom",2);t.exports.deltaDeletedFrom=T("deleted_at");h.define("deltaDeletedFrom",2),t.exports.deltaAll=T("ALL"),h.define("deltaAll",2);var L=p.curry(function(e,t){var r=e.cls.ObjectCons,o=Object.keys(t),u=t.objects,s=e.getTransform(),a=R(r);switch(s){case v:a=B(r);break;case w:a=i}if(o.length>1){var c=[];return c.push(n(u,a)),t.schema&&c.push(t.schema),t.count&&c.push(t.count),c}return d.isNumber(u)?u:n(u,a)}),R=p.curry(function(e,t){return t.map(function(t){return e({},{},t,{})})}),B=p.curry(function(e,t){var n=R(e,t),r=e.BackboneCollection({objects:n});return r});t.exports.exec=function(e){var t=u(o(e)),n=P(t),r=L(e);switch(e.cachePolicy){case m.CachePolicy.ONLY_NETWORK:return a(e).then(r);case m.CachePolicy.CACHE_ELSE_NETWORK:return s(t).then(r).catch(function(){return a(e).then(n).then(r)});case m.CachePolicy.NETWORK_ELSE_CACHE:return a(e).then(r).catch(function(e){return s(t).then(r).catch(function(){throw e})});case m.CachePolicy.CACHE_THEN_NETWORK:var i=function(){};return{cache:s(t).then(r).then(function(e){return i(null,e),e}),network:a(e).then(r).then(function(e){return i(null,e),e}).catch(function(e){i(e,null)}),both:function(e){i=e}}}},h.define("exec",1),t.exports.nearLocation=p.curry(function(e,t,n){t=t||1e3;var r=p.mixin({},x(n)),i=p.mixin({},_(n));if(e&&e.data&&d.isNumber(t)){var o=e.toJSON();i.$near={coords:[o.longitude,o.latitude],radius:t}}else{if(!d.isString(e)||!d.isNumber(t))throw new Error("Invalid parameters");i.$near={coords:{object:e},radius:t}}return r.query=i,b(n.app,n.cls,n.headers,n.cachePolicy,r)}),h.define("nearLocation",3,[null]),t.exports.delete=function(e){var n=e.app.options.adaptor,r=p.mixin({},x(e));r._method="DELETE";var i=d.getAdaptorObj("POST",f(e),t.exports.getCombinedHeaders(e),r,null);return c(i,n).yield(null)},h.define("delete",1);var N=p.curry(function(e,t,n,r){var i=p.mixin({},x(r));return i[e]=l(t,n),b(r.app,r.cls,r.headers,r.cachePolicy,i)});t.exports.except=N("except","BASE"),h.define("except",2),t.exports.exceptReference=N("except"),h.define("exceptReference",3),t.exports.only=N("only","BASE"),h.define("only",2),t.exports.onlyReference=N("only"),h.define("onlyReference",3)},{"./built":8,"./class":9,"./object":16,"./utilities/instanceMethodBuilder":24,"./utilities/utility":27,"blueimp-md5":29,ramda:52,when:83}],19:[function(e,t){function n(e){return s.mixin({},i(e))}function r(e){return s.mixin({},o(e))}function i(e){return e.delta}function o(e){return e.data}function u(e,t){var n;if(o(t)[e])var n=[].concat(o(t)[e]);else n=[];return n}{var s=e("ramda"),a=e("./utilities/utility"),c=e("./utilities/instanceMethodBuilder")(),f=e("./object"),l=e("./constants");t.exports=s.curry(function(e,n,r,i,o,u){var s=f(e,n,r,{},o,u);return c.build(t.exports,s)})}a.copyProperties(t.exports,f),t.exports.getRoleQuery=function(e){return function(){return e.Class(l.APP_ROLE_CLS).Query()}};var p=s.curry(function(e,t,i){var o=n(i),s=r(i),a=u(e,i);return a.push(t),o[e]=a,s[e]=a,i.cls.ObjectCons(i.getHeaders(),{},s,o)});t.exports.addRole=p("roles"),c.define("addRole",2),t.exports.addUser=p("users"),c.define("addUser",2),t.exports.getName=t.exports.get("name"),c.define("getName",1),t.exports.getRoles=t.exports.get("roles"),c.define("getRoles",1),t.exports.getRoleUid=t.exports.get("uid"),c.define("getRoleUid",1),t.exports.getUsers=t.exports.get("users"),c.define("getUsers",1),t.exports.setName=t.exports.set("name"),c.define("setName",2),t.exports.setRoleUid=t.exports.set("uid"),c.define("setRoleUid",2);var d=s.curry(function(e,t,n){return s.contains(t,o(n)[e])});t.exports.hasRole=d("roles"),c.define("hasRole",2),t.exports.hasUser=d("users"),c.define("hasUser",2);var h=s.curry(function(e,t,i){var o=n(i),s=r(i),a=u(e,i),c=a.indexOf(t);return c>-1&&a.splice(c,1),o[e]=a,s[e]=a,i.cls.ObjectCons(i.getHeaders(),{},s,o)});t.exports.removeRole=h("roles"),c.define("removeRole",2),t.exports.removeUser=h("users"),c.define("removeUser",2)},{"./constants":10,"./object":16,"./utilities/instanceMethodBuilder":24,"./utilities/utility":27,ramda:52}],20:[function(e,t){var n=t.exports.set=function(e,t){document.cookie=e+"="+t};t.exports.delete=function(e){n(e,"")},t.exports.get=function(e){for(var t=e+"=",n=document.cookie.split(";"),r=0;r<n.length;r++){for(var i=n[r];" "==i.charAt(0);)i=i.substring(1);if(-1!=i.indexOf(t))return i.substring(t.length,i.length)}return""}},{}],21:[function(e,t){t.exports.set=function(e,t){t=JSON.stringify(t),window.localStorage.setItem(e,t)},t.exports.delete=function(e){window.localStorage.removeItem(e)},t.exports.get=function(e){return window.localStorage.getItem(e)?JSON.parse(window.localStorage.getItem(e)):void 0}},{}],22:[function(e,t){function n(e){pluginsHelper.plugins.map(function(t){t.realtime&&t.realtime.onUploadInstance&&t.realtime.onUploadInstance(e)})}function r(e){return e.data}function i(e){return e.params}function i(e){return e.params}function o(e){return k(e)?"PUT":"POST"}function u(e){if(C(e)instanceof FormData)return C(e);if("undefined"!=typeof File&&C(e)instanceof File){var t=new FormData;return t.append("upload[upload]",C(e)),t}if(!C(e)||1!==C(e).nodeType&&9!==C(e).nodeType)throw new Error("HTML input file element or FormData or File required");var t=new FormData;if("file"==C(e).getAttribute("type"))return t.append("upload[upload]",C(e).files[0]),t;throw new Error("input file element required")}function s(e){if("https://api.built.io"===e.origin){var t=e.data?e.data:e.message;t=JSON.parse(t);var n=t.postmessage_payload;A[n](t),delete A[n],c(n)}}function a(){window?window.addEventListener("message",s,!1):window.attachEvent("onmessage",s)}function c(e){var t=document.getElementById("builtUploadForm"+e),n=document.getElementById("builtIFrame"+e);t.parentNode.removeChild(t),n.parentNode.removeChild(n)}function f(e){var n=e.app.options.adaptor,r={},s=u(e);return r.formData=s,r.headers=t.exports.getCombinedHeaders(e),r.url=t.exports.getURL(e),s.append("PARAM",JSON.stringify({upload:i(e)})),s.append("_method",o(e)),delete r.headers["Content-Type"],n.makeXMLHttpRequest(r).then(function(t){var n=JSON.parse(t);return O(e.app,e.headers,n.upload,n.upload.uid)})}function l(e){var n=p(e),r=g.readFileSync(C(e));return b.postData({PARAM:JSON.stringify({upload:i(e)})},[{type:h.lookup(C(e)),keyname:"upload[upload]",valuename:S.basename(C(e)),data:r}],n,t.exports.getCombinedHeaders(e)).then(function(t){var n=JSON.parse(t);return O(e.app,e.headers,n.upload,n.upload.uid)})}function p(e){var n=t.exports.getURL(e),r="",i="",o="POST";e.getUid()&&(o="PUT"),"http://"===n.substr(0,7)?r=n.split("http://")[1].split(":")[0]:"https://"===n.substr(0,8)&&(r=n.split("https://")[1].split(":")[0]);for(var u=n.split("https://")[1].split(":")[1].split("/"),s=1;s<u.length;s++)i+="/"+u[s];return{host:r,path:i,method:o,encoding:"utf8"}}function d(e){var t=C(e).cloneNode();C(e).style.display="none",C(e).parentNode.insertBefore(t,C(e));var n=Math.floor(1e3*Math.random()),r=w.defer();return A[n]=function(t){t.upload?(x.trigger("upload:end"),r.resolve(O(e.app,e.headers,t.upload,t.upload.uid))):r.reject(t)},r.promise}var h,g,y=e("ramda"),m=e("./utilities/utility"),v=e("./utilities/instanceMethodBuilder")(),w=e("when"),v=e("./utilities/instanceMethodBuilder")(),b=e("./utilities/uploadHelper"),x=e("./events"),_=e("./node"),E=_.https,S=_.path;m.isBrowser()||(h=_.mime,g=_.fs);var A={};m.isBrowser()&&a();var O=t.exports=y.curry(function(e,r,i,o){var u={};"string"==typeof o?u.uid=o:u=o;var s={app:e,headers:r,params:i,data:u,toJSON:function(){return i}};return n(s),v.build(t.exports,s)});t.exports.download=function(e){if(!e.getDownloadLink())throw new Error("Object cannot be downloaded as download link not found");if(!m.isBrowser()){var t=w.defer();return E.get(e.getDownloadLink(),function(e){t.resolve(e)}),t.promise}window.open(e.getDownloadLink())},v.define("download",1),t.exports.isNew=function(e){return!!e.data.uid},v.define("isNew",1),t.exports.setUid=y.curry(function(e,t){var n=y.mixin({},r(t));return n.uid=e,O(t.app,t.headers,t.params,n)}),v.define("setUid",2);var k=t.exports.getUid=function(e){return r(e).uid};v.define("getUid",1);var C=t.exports.getUploadPayload=function(e){return r(e).file};v.define("getUploadPayload",1),t.exports.setFile=y.curry(function(e,t){var n=y.mixin({},r(t));if(m.isBrowser()){if("undefined"!=typeof e[0]&&(n.file=e[0]),!(e&&(1===e.nodeType||9===e.nodeType)||"undefined"!=typeof FormData&&e instanceof FormData||"undefined"!=typeof File&&e instanceof File))throw new Error("The parameter is not valid or not supported by the platform. Please pass an html input elment.");n.file=e}else if(e.indexOf("://")>=0)n.file=e;else if(g.existsSync(e)){if(!g.statSync(e).isFile())throw new Error("invalid file path: "+e);n.file=e}return O(t.app,t.headers,t.params,n)}),v.define("setFile",2),t.exports.unsetFile=function(e){var t=y.mixin({},r(e));if(m.isBrowser()){var n=C(e);if(!(n&&(1===n.nodeType||9===n.nodeType)||n instanceof FormData||n instanceof File))throw new Error("No upload found")}return k(e)?O(e.app,e.headers,e.params,data.uid):(t.file=null,O(e.app,e.headers,e.params,t))},v.define("unsetFile",1),t.exports.save=function(e){e.app.options.adaptor;if(!C(e))throw new Error("No upload found");if(!m.isBrowser())return l(e);if(m.supportsFormData())return f(e);if("file"!=C(e).getAttribute("type"))throw new Error("Input file element required for upload");d(e)},v.define("save",1),t.exports.delete=function(e){var n=e.app.options.adaptor;if(!k(e))throw new Error("Upload object needs to be associated with a uid");var r=m.getAdaptorObj("DELETE",t.exports.getURL(e),t.exports.getCombinedHeaders(e),null,null);return n.makeCall(r).then(function(){return null})},v.define("delete",1),t.exports.fetch=function(e){var n=e.app.options.adaptor;if(!k(e))throw new Error("Upload object needs to be associated with a uid");var r=m.getAdaptorObj("GET",t.exports.getURL(e),t.exports.getCombinedHeaders(e),null,null);return n.makeCall(r).then(function(n){return O(e.app,t.exports.getCombinedHeaders(e),n.entity.upload,n.entity.upload.uid)})},v.define("fetch",1);var j=y.curry(function(e,t,n){var r=y.mixin({},i(n));return r[e]=t,O(n.app,n.headers,r,n.data)});t.exports.setACL=y.curry(function(e,t){var n=y.mixin({},i(t));return n.ACL=e.toJSON(),O(t.app,t.headers,n,t.data)}),v.define("setACL",2),t.exports.getACL=function(e){return i(e).ACL},v.define("getACL",1),t.exports.setTags=j("tags"),v.define("setTags",2);var U=y.curry(function(e,t){return i(t)[e]});t.exports.getDownloadLink=U("url"),v.define("getDownloadLink",1),t.exports.getTags=U("tags"),v.define("getTags",1),t.exports.getContentType=U("content_type"),v.define("getContentType",1),t.exports.getFileSize=U("file_size"),v.define("getFileSize",1),t.exports.getFileName=U("filename"),v.define("getFileName",1),t.exports.getHeaders=function(e){return e.headers},v.define("getHeaders",1),t.exports.getURL=function(t){var n=e("./built");return k(t)?n.App.getURL(t.app)+"/uploads/"+k(t):n.App.getURL(t.app)+"/uploads"},v.define("getURL",1),t.exports.getCombinedHeaders=function(t){var n=e("./built");return y.mixin(t.headers,n.App.getHeaders(t.app))},v.define("getHeaders",1)},{"./built":8,"./events":11,"./node":30,"./utilities/instanceMethodBuilder":24,"./utilities/uploadHelper":25,"./utilities/utility":27,ramda:52,when:83}],23:[function(e,t){function n(e){pluginsHelper.plugins.map(function(t){t.realtime&&t.realtime.onUserInstance&&t.realtime.onUserInstance(e)})}function r(e,n,r,i){var o=u(i)+"/retrieve_user_uid",s=f("auth_data",f(e,f(n,r))),a={application_user:p.assign(s,i).data},c=i.app.options.adaptor,l=d.getAdaptorObj("POST",o,t.exports.getCombinedHeaders(i),a,null);return c.makeCall(l).then(function(e){return i.cls.ObjectCons(t.exports.getHeaders(i),{},{},e.entity.uid)})}function i(e,t){var n={application_user:p.assign(e,t).data},r=u(t);return o("POST",r,n,t).then(function(e){return y.trigger("user:login"),e.app.setSession(e.toJSON()),e})}function o(e,n,r,i){var o=i.app.options.adaptor,u=d.getAdaptorObj(e,n,t.exports.getCombinedHeaders(i),r,null);return o.makeCall(u).then(function(e){return i.cls.ObjectCons(t.exports.getHeaders(i),{},e.entity.application_user,{})})}function u(t){var n,r=e("./built"),i=t.app;return n=a(t).uid?r.App.getURL(i)+m+"/"+a(t).uid:r.App.getURL(i)+m}function s(e){return e.app.getURL()+m+"/logout"}function a(e){return e.data}function c(e){return e.delta}function f(e,t){var n={};return n[e]=t,n}{var l=e("ramda"),p=e("./object"),d=e("./utilities/utility"),h=e("when"),g=e("./utilities/instanceMethodBuilder")(),y=(e("./session/cookie"),e("./events")),m="/application/users";t.exports=l.curry(function(e,r,i,o,u,s){var a=p(e,r,i,{},u,s);return a=g.build(t.exports,a),n(a),a})}d.copyProperties(t.exports,p),t.exports.login=l.curry(function(e,t,n){var r={email:e,password:t},i={application_user:p.assign(r,n).data},u=n.app.getURL()+m+"/login";return o("POST",u,i,n).then(function(e){return y.trigger("user:login"),e.app.setSession(e.toJSON()),e})}),g.define("login",3),t.exports.logout=function(e){if(!e.app.isAuthenticated())throw new Error("User not logged in");var n=s(e),r=e.app.options.adaptor,i=d.getAdaptorObj("DELETE",n,t.exports.getCombinedHeaders(e),null,null);return r.makeCall(i).then(function(){return y.trigger("user:logout"),e.app.clearSession(),null})},g.define("logout",1),t.exports.isAuthenticated=d.appProxyHelper("isAuthenticated"),t.exports.getSession=d.appProxyHelper("getSession"),t.exports.setSession=d.appProxyHelper("setSession"),t.exports.clearSession=d.appProxyHelper("clearSession"),t.exports.generateAuthtoken=d.appProxyHelper("generateAuthtoken"),t.exports.anyAuth=d.appProxyHelper("anyAuth"),t.exports.activate=l.curry(function(e,n){if(!c(n).uid)throw new Error("Uid not found");var r=u(n)+"/activate/"+e,i=n.app.options.adaptor,o=d.getAdaptorObj("GET",r,t.exports.getCombinedHeaders(n),null,null);return i.makeCall(o).then(function(e){return y.trigger("user:activate",e.entity),null})}),g.define("activate",2),t.exports.deactivate=l.curry(function(e){if(!e.getHeaders().authtoken)throw new Error("Authentication token not found in headers");if(!a(e).uid)throw new Error("Uid not found");var n=u(e),r=e.app.options.adaptor,i=d.getAdaptorObj("DELETE",n,t.exports.getCombinedHeaders(e),null,null);return r.makeCall(i).then(function(e){return y.trigger("user:deactivate",e.entity),null})}),g.define("deactivate",1),t.exports.fetchUserUidByEmail=l.curry(function(e,n){if(!e)throw new Error("Email not found");var r=u(n)+"/retrieve_user_uid",i={email:e},o={application_user:p.assign(i,n).data},s=n.app.options.adaptor,a=d.getAdaptorObj("POST",r,t.exports.getCombinedHeaders(n),o,null);return s.makeCall(a).then(function(e){return n.cls.ObjectCons(t.exports.getHeaders(n),{},{},e.entity.uid)})}),g.define("fetchUserUidByEmail",2),t.exports.fetchUserUidByFacebookUserId=l.curry(function(e,t){if(!e)throw new Error("User id not found");return r("facebook","user_id",e,t)}),g.define("fetchUserUidByFacebookUserId",2),t.exports.fetchUserUidByGoogleEmail=l.curry(function(e,t){if(!e)throw new Error("Email address not found");return r("google","email",e,t)}),g.define("fetchUserUidByGoogleEmail",2),t.exports.fetchUserUidByTwitterUserId=l.curry(function(e,t){if(!e)throw new Error("User_id not found");return r("twitter","user_id",e,t)}),g.define("fetchUserUidByTwitterUserId",2),t.exports.register=l.curry(function(e,t,n,r){var i={email:e,password:t,password_confirmation:n},s={application_user:p.assign(i,r).data};return o("POST",u(r),s,r).then(function(e){return y.trigger("user:register",e),e})}),g.define("register",4),t.exports.forgotPassword=l.curry(function(e,n){var r=n.app.options.adaptor,i={email:e},o={application_user:p.assign(i,n).data},s=u(n)+"/forgot_password/request_password_reset",a=d.getAdaptorObj("POST",s,t.exports.getCombinedHeaders(n),o,null);
return r.makeCall(a).then(function(){return null})}),g.define("forgotPassword",2),t.exports.resetPassword=l.curry(function(e,n,r,i){var o=i.app.options.adaptor,s={reset_password_token:r,password:e,password_confirmation:n},a={application_user:p.assign(s,i).data},c=u(i)+"/forgot_password/reset_password",f=d.getAdaptorObj("POST",c,t.exports.getCombinedHeaders(i),a,null);return o.makeCall(f).then(function(){return null})}),g.define("resetPassword",4),t.exports.updateUserProfile=l.curry(function(e,n){var r={application_user:e};if(!n.get("uid"))return h.reject(new Error("Uid not found"));var i=u(n),o=n.app.options.adaptor,s=d.getAdaptorObj("PUT",i,t.exports.getCombinedHeaders(n),r,null);return o.makeCall(s).then(function(e){var r=n.cls.ObjectCons(t.exports.getHeaders(n),{},l.mixin({authtoken:n.get("authtoken")},e.entity.application_user),{});return r=r.set("authtoken",n.get("authtoken")),r.app.setSession(r.toJSON()),r})}),g.define("updateUserProfile",2),t.exports.loginWithGoogle=l.curry(function(e,t){var n={auth_data:{google:{access_token:e}}};return i(n,t)}),g.define("loginWithGoogle",2),t.exports.loginWithFacebook=l.curry(function(e,t){var n={auth_data:{facebook:{access_token:e}}};return i(n,t)}),g.define("loginWithFacebook",2),t.exports.loginWithTwitter=l.curry(function(e,t,n,r,o){var u={auth_data:{twitter:{token:e,token_secret:t,consumer_key:n,consumer_secret:r}}};return i(u,o)}),g.define("loginWithTwitter",5)},{"./built":8,"./events":11,"./object":16,"./session/cookie":20,"./utilities/instanceMethodBuilder":24,"./utilities/utility":27,ramda:52,when:83}],24:[function(e,t){var n=e("ramda");t.exports=function(){var e=[];return{define:function(t,n,r){e.push({name:t,argsLength:n,defaultValues:r})},build:function(t,r){return e.forEach(function(e){if(1===e.argsLength)r[e.name]=function(){return t[e.name].apply(null,[r])};else{var i=n.curry(n.nAry(e.argsLength,function(){var n=Array.prototype.slice.call(arguments,1,arguments.length);return n.push(arguments[0]),t[e.name].apply(null,n)}));i=i(r),r[e.name]=e.defaultValues?function(){var t=Array.prototype.slice.call(arguments,0);return t=t.concat(e.defaultValues.slice(-(e.argsLength-arguments.length))),i.apply(null,t)}:i}}),r}}}},{ramda:52}],25:[function(e,t){(function(n){function r(e,t){function r(e,t,n){var r="--"+e+"\r\n";return r+='Content-Disposition: form-data; name="'+t+'"\r\n\r\n',r+=n+"\r\n"}function i(e,t,n,r){var i="--"+e+"\r\n";return i+='Content-Disposition: form-data; name="'+n+'"; filename="'+r+'"\r\n',i+="Content-Type: "+t+"\r\n\r\n"}var o=Math.random(),u=[];if(e)for(var s in e){var a=e[s];u.push(new n(r(o,s,a),"ascii"))}if(t)for(var s in t){var a=t[s];u.push(new n(i(o,a.type,a.keyname,a.valuename),"ascii")),u.push(new n(a.data,"utf8"))}u.push(new n("\r\n--"+o+"--"),"ascii");for(var c=0,f=0;f<u.length;f++)c+=u[f].length;var l={postdata:u,headers:{"Content-Type":"multipart/form-data; boundary="+o,"Content-Length":c}};return l}function i(e,t,n,i){var o=s.defer(),c=r(e,t),f=c.headers;for(var l in i)f[l]=i[l];var p={host:n.host,path:n.path,method:n.method||"POST",headers:f};a.trigger("upload:start");for(var d=u.request(p,function(e){e.body="",e.setEncoding(n.encoding),e.on("data",function(t){e.body+=t}),e.on("end",function(){a.trigger("upload:end",JSON.parse(e.body)),o.resolve(e.body)}),e.on("error",function(){o.reject(e)})}),h=0;h<c.postdata.length;h++)d.write(c.postdata[h]);return d.end(),o.promise}var o=e("../node"),u=(o.fs,o.https),s=e("when"),a=e("../events");t.exports={getFormDataForPost:r,postData:i}}).call(this,e("buffer").Buffer)},{"../events":11,"../node":30,buffer:31,when:83}],26:[function(e){function t(){var e=s.type();return e.match(/windows/i)?"windows":e.match(/darwin/i)?"macintosh":e}function n(e){var t=f.get(l);if(t)return t;e=e||16;var t="blt"+u.randomBytes(e).toString("hex");return f.set(l,t),t}function r(e){return i?i:i="blt"+u.randomBytes(e).toString("hex")}var i,o=e("ua-parser-js"),u=e("crypto"),s=e("os"),a=e("./utility"),c=e("../../package").version,f=e("../session/local_storage"),l="blt_uuid";pluginsHelper.registerPlugin("analyticsConfig",{generate:function(e){if(a.isBrowser()){var i=navigator.userAgent,u=(new o).setUA(i).getResult(),f=window.screen?window.screen.height:"unknown",l=window.screen?window.screen.width:"unknown";return{blt_uuid:n(e),blt_browser:u.browser.name,blt_sdk:"JavaScript",blt_sdk_version:c,blt_platform:"browser",blt_os:u.os.name,blt_os_version:u.os.version,blt_screen_height:f,blt_screen_width:l,blt_screen_orientation:f>=l?"portrait":"landscape",blt_device:u.device.model}}var p=t();return{blt_uuid:r(e),blt_sdk:"JavaScript",blt_sdk_version:c,blt_platform:"nodejs",blt_os:p,blt_os_version:s.release()}}})},{"../../package":28,"../session/local_storage":21,"./utility":27,crypto:37,os:48,"ua-parser-js":66}],27:[function(e,t){t.exports.appProxyHelper=function(e){return function(t){return function(){return t[e].apply(t,arguments)}}},t.exports.copyProperties=function(e,t){for(method in t)e[method]=t[method]},t.exports.getAdaptorObj=function(e,t,n,r,i){if(!e)throw new Error("Http method is not specified");if(!t)throw new Error("Path for http request not specified");if(!n)throw new Error("Headers for http request not specified");var o={};return o.path=t,o.headers=n,o.method=e,r&&(o.entity=r),i&&(o.params=i),o},t.exports.wrapper=function(e,t){return function(){var n=Array.prototype.slice.call(arguments,0);return n=n.concat(t.slice(-(e.length-arguments.length))),e.apply(this,n)}},t.exports.isArray=function(e){return"[object Array]"===Object.prototype.toString.call(e)},t.exports.isNumber=function(e){return"number"==typeof e},t.exports.isBoolean=function(e){return"boolean"==typeof e},t.exports.isString=function(e){return"string"==typeof e},t.exports.isQueryInstance=function(e){return!!e.where},t.exports.isFunction=function(e){var t={};return e&&"[object Function]"===t.toString.call(e)},t.exports.isObject=function(e){return"object"==typeof e},t.exports.isBrowser=function(){return!("undefined"==typeof window||!window.document)},t.exports.isLocalStroageAvaliable=function(){return!("undefined"==typeof localStorage)},t.exports.isEmpty=function(e){return e?0===Object.keys(e).length:void 0},t.exports.keyValue=function(){for(var e=null,t={},n=0;n<arguments.length;n++){var r=arguments[n];n%2===0?e=r:t[e]=r}return t},t.exports.backboneExist=function(){return!("undefined"==typeof Backbone||!Backbone.Model||!Backbone.Collection)},t.exports.supportsFormData=function(){return!("object"!=typeof window||"undefined"==typeof window.FormData)};var n=t.exports.encodeParam=function(e,n){return t.exports.isObject(n[e])?e+"="+encodeURIComponent(JSON.stringify(n[e])):e+"="+n[e]};t.exports.addParam=function(e,t,r){return e+=e.indexOf("?")>=0?"&"+n(t,r):"?"+n(t,r)}},{}],28:[function(e,t){t.exports={name:"built.io",description:"The built.io SDK",author:"raweng",version:"2.0.37",dependencies:{when:"3.4.3",rest:"1.1.1",ramda:"0.8.0",mime:"1.2.11","blueimp-md5":"1.1.0","ua-parser-js":"0.7.3",crypto:"0.0.3","socket.io-client":"1.2.1"},devDependencies:{"socket.io":"*",browserify:"*",chai:"*","chai-as-promised":"*",gulp:"*","gulp-add-src":"^0.2.0","gulp-buffer":"0.0.2","gulp-clean":"^0.3.1","gulp-cog":"^0.1.2","gulp-concat":"^2.4.2","gulp-json-editor":"^2.2.1","gulp-load-plugins":"^0.7.1","gulp-replace":"*","gulp-rimraf":"^0.1.1","gulp-run":"^1.6.4","gulp-shell":"^0.2.10","gulp-uglify":"^1.0.1","gulp-zip":"^2.0.2","jaguarjs-jsdoc":"0.0.1",jsdoc:"*",mocha:"*",nock:"*",rimraf:"^2.2.8","run-sequence":"^1.0.2",semver:"^4.1.0","vinyl-buffer":"^1.0.0","vinyl-source-stream":"^1.0.0"},keywords:["built","backend","baas","mbaas","sdk","javascript"],scripts:{WithoutRealtime:"node ./browserifyBuilds/WithoutRealTime.js",WithRealtime:"node ./browserifyBuilds/WithRealTime.js",generateDocsForWRT:"jsdoc -t /usr/local/lib/node_modules/jaguarjs-jsdoc/ -c templateConfig.json lib/ -d docs/docsWRT -r /home/abhijeet/Documents/node/built/jsdocReadMe/README_WRT.md",generateDocsForRT:"jsdoc -t /usr/local/lib/node_modules/jaguarjs-jsdoc/ -c templateConfig.json lib/ -d docs/docsRT -r /home/abhijeet/Documents/node/built/jsdocReadMe/README_RT.md"},main:"./lib/built"}},{}],29:[function(){!function(e){"use strict";function t(e,t){var n=(65535&e)+(65535&t),r=(e>>16)+(t>>16)+(n>>16);return r<<16|65535&n}function n(e,t){return e<<t|e>>>32-t}function r(e,r,i,o,u,s){return t(n(t(t(r,e),t(o,s)),u),i)}function i(e,t,n,i,o,u,s){return r(t&n|~t&i,e,t,o,u,s)}function o(e,t,n,i,o,u,s){return r(t&i|n&~i,e,t,o,u,s)}function u(e,t,n,i,o,u,s){return r(t^n^i,e,t,o,u,s)}function s(e,t,n,i,o,u,s){return r(n^(t|~i),e,t,o,u,s)}function a(e,n){e[n>>5]|=128<<n%32,e[(n+64>>>9<<4)+14]=n;var r,a,c,f,l,p=1732584193,d=-271733879,h=-1732584194,g=271733878;for(r=0;r<e.length;r+=16)a=p,c=d,f=h,l=g,p=i(p,d,h,g,e[r],7,-680876936),g=i(g,p,d,h,e[r+1],12,-389564586),h=i(h,g,p,d,e[r+2],17,606105819),d=i(d,h,g,p,e[r+3],22,-1044525330),p=i(p,d,h,g,e[r+4],7,-176418897),g=i(g,p,d,h,e[r+5],12,1200080426),h=i(h,g,p,d,e[r+6],17,-1473231341),d=i(d,h,g,p,e[r+7],22,-45705983),p=i(p,d,h,g,e[r+8],7,1770035416),g=i(g,p,d,h,e[r+9],12,-1958414417),h=i(h,g,p,d,e[r+10],17,-42063),d=i(d,h,g,p,e[r+11],22,-1990404162),p=i(p,d,h,g,e[r+12],7,1804603682),g=i(g,p,d,h,e[r+13],12,-40341101),h=i(h,g,p,d,e[r+14],17,-1502002290),d=i(d,h,g,p,e[r+15],22,1236535329),p=o(p,d,h,g,e[r+1],5,-165796510),g=o(g,p,d,h,e[r+6],9,-1069501632),h=o(h,g,p,d,e[r+11],14,643717713),d=o(d,h,g,p,e[r],20,-373897302),p=o(p,d,h,g,e[r+5],5,-701558691),g=o(g,p,d,h,e[r+10],9,38016083),h=o(h,g,p,d,e[r+15],14,-660478335),d=o(d,h,g,p,e[r+4],20,-405537848),p=o(p,d,h,g,e[r+9],5,568446438),g=o(g,p,d,h,e[r+14],9,-1019803690),h=o(h,g,p,d,e[r+3],14,-187363961),d=o(d,h,g,p,e[r+8],20,1163531501),p=o(p,d,h,g,e[r+13],5,-1444681467),g=o(g,p,d,h,e[r+2],9,-51403784),h=o(h,g,p,d,e[r+7],14,1735328473),d=o(d,h,g,p,e[r+12],20,-1926607734),p=u(p,d,h,g,e[r+5],4,-378558),g=u(g,p,d,h,e[r+8],11,-2022574463),h=u(h,g,p,d,e[r+11],16,1839030562),d=u(d,h,g,p,e[r+14],23,-35309556),p=u(p,d,h,g,e[r+1],4,-1530992060),g=u(g,p,d,h,e[r+4],11,1272893353),h=u(h,g,p,d,e[r+7],16,-155497632),d=u(d,h,g,p,e[r+10],23,-1094730640),p=u(p,d,h,g,e[r+13],4,681279174),g=u(g,p,d,h,e[r],11,-358537222),h=u(h,g,p,d,e[r+3],16,-722521979),d=u(d,h,g,p,e[r+6],23,76029189),p=u(p,d,h,g,e[r+9],4,-640364487),g=u(g,p,d,h,e[r+12],11,-421815835),h=u(h,g,p,d,e[r+15],16,530742520),d=u(d,h,g,p,e[r+2],23,-995338651),p=s(p,d,h,g,e[r],6,-198630844),g=s(g,p,d,h,e[r+7],10,1126891415),h=s(h,g,p,d,e[r+14],15,-1416354905),d=s(d,h,g,p,e[r+5],21,-57434055),p=s(p,d,h,g,e[r+12],6,1700485571),g=s(g,p,d,h,e[r+3],10,-1894986606),h=s(h,g,p,d,e[r+10],15,-1051523),d=s(d,h,g,p,e[r+1],21,-2054922799),p=s(p,d,h,g,e[r+8],6,1873313359),g=s(g,p,d,h,e[r+15],10,-30611744),h=s(h,g,p,d,e[r+6],15,-1560198380),d=s(d,h,g,p,e[r+13],21,1309151649),p=s(p,d,h,g,e[r+4],6,-145523070),g=s(g,p,d,h,e[r+11],10,-1120210379),h=s(h,g,p,d,e[r+2],15,718787259),d=s(d,h,g,p,e[r+9],21,-343485551),p=t(p,a),d=t(d,c),h=t(h,f),g=t(g,l);return[p,d,h,g]}function c(e){var t,n="";for(t=0;t<32*e.length;t+=8)n+=String.fromCharCode(e[t>>5]>>>t%32&255);return n}function f(e){var t,n=[];for(n[(e.length>>2)-1]=void 0,t=0;t<n.length;t+=1)n[t]=0;for(t=0;t<8*e.length;t+=8)n[t>>5]|=(255&e.charCodeAt(t/8))<<t%32;return n}function l(e){return c(a(f(e),8*e.length))}function p(e,t){var n,r,i=f(e),o=[],u=[];for(o[15]=u[15]=void 0,i.length>16&&(i=a(i,8*e.length)),n=0;16>n;n+=1)o[n]=909522486^i[n],u[n]=1549556828^i[n];return r=a(o.concat(f(t)),512+8*t.length),c(a(u.concat(r),640))}function d(e){var t,n,r="0123456789abcdef",i="";for(n=0;n<e.length;n+=1)t=e.charCodeAt(n),i+=r.charAt(t>>>4&15)+r.charAt(15&t);return i}function h(e){return unescape(encodeURIComponent(e))}function g(e){return l(h(e))}function y(e){return d(g(e))}function m(e,t){return p(h(e),h(t))}function v(e,t){return d(m(e,t))}function w(e,t,n){return t?n?m(t,e):v(t,e):n?g(e):y(e)}"function"==typeof define&&define.amd?define(function(){return w}):e.md5=w}(this)},{}],30:[function(){},{}],31:[function(e,t,n){function r(e,t,n){if(!(this instanceof r))return new r(e,t,n);var i,o=typeof e;if("number"===o)i=e>0?e>>>0:0;else if("string"===o)"base64"===t&&(e=C(e)),i=r.byteLength(e,t);else{if("object"!==o||null===e)throw new Error("First argument needs to be a number, array or string.");"Buffer"===e.type&&U(e.data)&&(e=e.data),i=+e.length>0?Math.floor(+e.length):0}var u;W?u=r._augment(new Uint8Array(i)):(u=this,u.length=i,u._isBuffer=!0);var s;if(W&&"number"==typeof e.byteLength)u._set(e);else if(P(e))if(r.isBuffer(e))for(s=0;i>s;s++)u[s]=e.readUInt8(s);else for(s=0;i>s;s++)u[s]=(e[s]%256+256)%256;else if("string"===o)u.write(e,0,t);else if("number"===o&&!W&&!n)for(s=0;i>s;s++)u[s]=0;return u}function i(e,t,n,r){n=Number(n)||0;var i=e.length-n;r?(r=Number(r),r>i&&(r=i)):r=i;var o=t.length;F(o%2===0,"Invalid hex string"),r>o/2&&(r=o/2);for(var u=0;r>u;u++){var s=parseInt(t.substr(2*u,2),16);F(!isNaN(s),"Invalid hex string"),e[n+u]=s}return u}function o(e,t,n,r){var i=I(L(t),e,n,r);return i}function u(e,t,n,r){var i=I(R(t),e,n,r);return i}function s(e,t,n,r){return u(e,t,n,r)}function a(e,t,n,r){var i=I(N(t),e,n,r);return i}function c(e,t,n,r){var i=I(B(t),e,n,r);return i}function f(e,t,n){return z.fromByteArray(0===t&&n===e.length?e:e.slice(t,n))}function l(e,t,n){var r="",i="";n=Math.min(e.length,n);for(var o=t;n>o;o++)e[o]<=127?(r+=M(i)+String.fromCharCode(e[o]),i=""):i+="%"+e[o].toString(16);return r+M(i)}function p(e,t,n){var r="";n=Math.min(e.length,n);for(var i=t;n>i;i++)r+=String.fromCharCode(e[i]);return r}function d(e,t,n){return p(e,t,n)}function h(e,t,n){var r=e.length;(!t||0>t)&&(t=0),(!n||0>n||n>r)&&(n=r);for(var i="",o=t;n>o;o++)i+=T(e[o]);return i}function g(e,t,n){for(var r=e.slice(t,n),i="",o=0;o<r.length;o+=2)i+=String.fromCharCode(r[o]+256*r[o+1]);return i}function y(e,t,n,r){r||(F("boolean"==typeof n,"missing or invalid endian"),F(void 0!==t&&null!==t,"missing offset"),F(t+1<e.length,"Trying to read beyond buffer length"));var i=e.length;if(!(t>=i)){var o;return n?(o=e[t],i>t+1&&(o|=e[t+1]<<8)):(o=e[t]<<8,i>t+1&&(o|=e[t+1])),o}}function m(e,t,n,r){r||(F("boolean"==typeof n,"missing or invalid endian"),F(void 0!==t&&null!==t,"missing offset"),F(t+3<e.length,"Trying to read beyond buffer length"));var i=e.length;if(!(t>=i)){var o;return n?(i>t+2&&(o=e[t+2]<<16),i>t+1&&(o|=e[t+1]<<8),o|=e[t],i>t+3&&(o+=e[t+3]<<24>>>0)):(i>t+1&&(o=e[t+1]<<16),i>t+2&&(o|=e[t+2]<<8),i>t+3&&(o|=e[t+3]),o+=e[t]<<24>>>0),o}}function v(e,t,n,r){r||(F("boolean"==typeof n,"missing or invalid endian"),F(void 0!==t&&null!==t,"missing offset"),F(t+1<e.length,"Trying to read beyond buffer length"));var i=e.length;if(!(t>=i)){var o=y(e,t,n,!0),u=32768&o;return u?-1*(65535-o+1):o}}function w(e,t,n,r){r||(F("boolean"==typeof n,"missing or invalid endian"),F(void 0!==t&&null!==t,"missing offset"),F(t+3<e.length,"Trying to read beyond buffer length"));var i=e.length;if(!(t>=i)){var o=m(e,t,n,!0),u=2147483648&o;return u?-1*(4294967295-o+1):o}}function b(e,t,n,r){return r||(F("boolean"==typeof n,"missing or invalid endian"),F(t+3<e.length,"Trying to read beyond buffer length")),J.read(e,t,n,23,4)}function x(e,t,n,r){return r||(F("boolean"==typeof n,"missing or invalid endian"),F(t+7<e.length,"Trying to read beyond buffer length")),J.read(e,t,n,52,8)}function _(e,t,n,r,i){i||(F(void 0!==t&&null!==t,"missing value"),F("boolean"==typeof r,"missing or invalid endian"),F(void 0!==n&&null!==n,"missing offset"),F(n+1<e.length,"trying to write beyond buffer length"),H(t,65535));var o=e.length;if(!(n>=o)){for(var u=0,s=Math.min(o-n,2);s>u;u++)e[n+u]=(t&255<<8*(r?u:1-u))>>>8*(r?u:1-u);return n+2}}function E(e,t,n,r,i){i||(F(void 0!==t&&null!==t,"missing value"),F("boolean"==typeof r,"missing or invalid endian"),F(void 0!==n&&null!==n,"missing offset"),F(n+3<e.length,"trying to write beyond buffer length"),H(t,4294967295));var o=e.length;if(!(n>=o)){for(var u=0,s=Math.min(o-n,4);s>u;u++)e[n+u]=t>>>8*(r?u:3-u)&255;return n+4}}function S(e,t,n,r,i){i||(F(void 0!==t&&null!==t,"missing value"),F("boolean"==typeof r,"missing or invalid endian"),F(void 0!==n&&null!==n,"missing offset"),F(n+1<e.length,"Trying to write beyond buffer length"),D(t,32767,-32768));var o=e.length;if(!(n>=o))return t>=0?_(e,t,n,r,i):_(e,65535+t+1,n,r,i),n+2}function A(e,t,n,r,i){i||(F(void 0!==t&&null!==t,"missing value"),F("boolean"==typeof r,"missing or invalid endian"),F(void 0!==n&&null!==n,"missing offset"),F(n+3<e.length,"Trying to write beyond buffer length"),D(t,2147483647,-2147483648));var o=e.length;if(!(n>=o))return t>=0?E(e,t,n,r,i):E(e,4294967295+t+1,n,r,i),n+4}function O(e,t,n,r,i){i||(F(void 0!==t&&null!==t,"missing value"),F("boolean"==typeof r,"missing or invalid endian"),F(void 0!==n&&null!==n,"missing offset"),F(n+3<e.length,"Trying to write beyond buffer length"),q(t,3.4028234663852886e38,-3.4028234663852886e38));var o=e.length;if(!(n>=o))return J.write(e,t,n,r,23,4),n+4}function k(e,t,n,r,i){i||(F(void 0!==t&&null!==t,"missing value"),F("boolean"==typeof r,"missing or invalid endian"),F(void 0!==n&&null!==n,"missing offset"),F(n+7<e.length,"Trying to write beyond buffer length"),q(t,1.7976931348623157e308,-1.7976931348623157e308));var o=e.length;if(!(n>=o))return J.write(e,t,n,r,52,8),n+8}function C(e){for(e=j(e).replace(Q,"");e.length%4!==0;)e+="=";return e}function j(e){return e.trim?e.trim():e.replace(/^\s+|\s+$/g,"")}function U(e){return(Array.isArray||function(e){return"[object Array]"===Object.prototype.toString.call(e)})(e)}function P(e){return U(e)||r.isBuffer(e)||e&&"object"==typeof e&&"number"==typeof e.length}function T(e){return 16>e?"0"+e.toString(16):e.toString(16)}function L(e){for(var t=[],n=0;n<e.length;n++){var r=e.charCodeAt(n);if(127>=r)t.push(r);else{var i=n;r>=55296&&57343>=r&&n++;for(var o=encodeURIComponent(e.slice(i,n+1)).substr(1).split("%"),u=0;u<o.length;u++)t.push(parseInt(o[u],16))}}return t}function R(e){for(var t=[],n=0;n<e.length;n++)t.push(255&e.charCodeAt(n));return t}function B(e){for(var t,n,r,i=[],o=0;o<e.length;o++)t=e.charCodeAt(o),n=t>>8,r=t%256,i.push(r),i.push(n);return i}function N(e){return z.toByteArray(e)}function I(e,t,n,r){for(var i=0;r>i&&!(i+n>=t.length||i>=e.length);i++)t[i+n]=e[i];return i}function M(e){try{return decodeURIComponent(e)}catch(t){return String.fromCharCode(65533)}}function H(e,t){F("number"==typeof e,"cannot write a non-number as a number"),F(e>=0,"specified a negative value for writing an unsigned value"),F(t>=e,"value is larger than maximum value for type"),F(Math.floor(e)===e,"value has a fractional component")}function D(e,t,n){F("number"==typeof e,"cannot write a non-number as a number"),F(t>=e,"value larger than maximum allowed value"),F(e>=n,"value smaller than minimum allowed value"),F(Math.floor(e)===e,"value has a fractional component")}function q(e,t,n){F("number"==typeof e,"cannot write a non-number as a number"),F(t>=e,"value larger than maximum allowed value"),F(e>=n,"value smaller than minimum allowed value")}function F(e,t){if(!e)throw new Error(t||"Failed assertion")}var z=e("base64-js"),J=e("ieee754");n.Buffer=r,n.SlowBuffer=r,n.INSPECT_MAX_BYTES=50,r.poolSize=8192;var W=function(){try{var e=new ArrayBuffer(0),t=new Uint8Array(e);return t.foo=function(){return 42},42===t.foo()&&"function"==typeof t.subarray&&0===new Uint8Array(1).subarray(1,1).byteLength}catch(n){return!1}}();r.isEncoding=function(e){switch(String(e).toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"binary":case"base64":case"raw":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return!0;default:return!1}},r.isBuffer=function(e){return!(null==e||!e._isBuffer)},r.byteLength=function(e,t){var n;switch(e=e.toString(),t||"utf8"){case"hex":n=e.length/2;break;case"utf8":case"utf-8":n=L(e).length;break;case"ascii":case"binary":case"raw":n=e.length;break;case"base64":n=N(e).length;break;case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":n=2*e.length;break;default:throw new Error("Unknown encoding")}return n},r.concat=function(e,t){if(F(U(e),"Usage: Buffer.concat(list[, length])"),0===e.length)return new r(0);if(1===e.length)return e[0];var n;if(void 0===t)for(t=0,n=0;n<e.length;n++)t+=e[n].length;var i=new r(t),o=0;for(n=0;n<e.length;n++){var u=e[n];u.copy(i,o),o+=u.length}return i},r.compare=function(e,t){F(r.isBuffer(e)&&r.isBuffer(t),"Arguments must be Buffers");for(var n=e.length,i=t.length,o=0,u=Math.min(n,i);u>o&&e[o]===t[o];o++);return o!==u&&(n=e[o],i=t[o]),i>n?-1:n>i?1:0},r.prototype.write=function(e,t,n,r){if(isFinite(t))isFinite(n)||(r=n,n=void 0);else{var f=r;r=t,t=n,n=f}t=Number(t)||0;var l=this.length-t;n?(n=Number(n),n>l&&(n=l)):n=l,r=String(r||"utf8").toLowerCase();var p;switch(r){case"hex":p=i(this,e,t,n);break;case"utf8":case"utf-8":p=o(this,e,t,n);break;case"ascii":p=u(this,e,t,n);break;case"binary":p=s(this,e,t,n);break;case"base64":p=a(this,e,t,n);break;case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":p=c(this,e,t,n);break;default:throw new Error("Unknown encoding")}return p},r.prototype.toString=function(e,t,n){var r=this;if(e=String(e||"utf8").toLowerCase(),t=Number(t)||0,n=void 0===n?r.length:Number(n),n===t)return"";var i;switch(e){case"hex":i=h(r,t,n);break;case"utf8":case"utf-8":i=l(r,t,n);break;case"ascii":i=p(r,t,n);break;case"binary":i=d(r,t,n);break;case"base64":i=f(r,t,n);break;case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":i=g(r,t,n);break;default:throw new Error("Unknown encoding")}return i},r.prototype.toJSON=function(){return{type:"Buffer",data:Array.prototype.slice.call(this._arr||this,0)}},r.prototype.equals=function(e){return F(r.isBuffer(e),"Argument must be a Buffer"),0===r.compare(this,e)},r.prototype.compare=function(e){return F(r.isBuffer(e),"Argument must be a Buffer"),r.compare(this,e)},r.prototype.copy=function(e,t,n,r){var i=this;if(n||(n=0),r||0===r||(r=this.length),t||(t=0),r!==n&&0!==e.length&&0!==i.length){F(r>=n,"sourceEnd < sourceStart"),F(t>=0&&t<e.length,"targetStart out of bounds"),F(n>=0&&n<i.length,"sourceStart out of bounds"),F(r>=0&&r<=i.length,"sourceEnd out of bounds"),r>this.length&&(r=this.length),e.length-t<r-n&&(r=e.length-t+n);var o=r-n;if(100>o||!W)for(var u=0;o>u;u++)e[u+t]=this[u+n];else e._set(this.subarray(n,n+o),t)}},r.prototype.slice=function(e,t){var n=this.length;if(e=~~e,t=void 0===t?n:~~t,0>e?(e+=n,0>e&&(e=0)):e>n&&(e=n),0>t?(t+=n,0>t&&(t=0)):t>n&&(t=n),e>t&&(t=e),W)return r._augment(this.subarray(e,t));for(var i=t-e,o=new r(i,void 0,!0),u=0;i>u;u++)o[u]=this[u+e];return o},r.prototype.get=function(e){return console.log(".get() is deprecated. Access using array indexes instead."),this.readUInt8(e)},r.prototype.set=function(e,t){return console.log(".set() is deprecated. Access using array indexes instead."),this.writeUInt8(e,t)},r.prototype.readUInt8=function(e,t){return t||(F(void 0!==e&&null!==e,"missing offset"),F(e<this.length,"Trying to read beyond buffer length")),e>=this.length?void 0:this[e]},r.prototype.readUInt16LE=function(e,t){return y(this,e,!0,t)},r.prototype.readUInt16BE=function(e,t){return y(this,e,!1,t)},r.prototype.readUInt32LE=function(e,t){return m(this,e,!0,t)},r.prototype.readUInt32BE=function(e,t){return m(this,e,!1,t)},r.prototype.readInt8=function(e,t){if(t||(F(void 0!==e&&null!==e,"missing offset"),F(e<this.length,"Trying to read beyond buffer length")),!(e>=this.length)){var n=128&this[e];return n?-1*(255-this[e]+1):this[e]}},r.prototype.readInt16LE=function(e,t){return v(this,e,!0,t)},r.prototype.readInt16BE=function(e,t){return v(this,e,!1,t)},r.prototype.readInt32LE=function(e,t){return w(this,e,!0,t)},r.prototype.readInt32BE=function(e,t){return w(this,e,!1,t)},r.prototype.readFloatLE=function(e,t){return b(this,e,!0,t)},r.prototype.readFloatBE=function(e,t){return b(this,e,!1,t)},r.prototype.readDoubleLE=function(e,t){return x(this,e,!0,t)},r.prototype.readDoubleBE=function(e,t){return x(this,e,!1,t)},r.prototype.writeUInt8=function(e,t,n){return n||(F(void 0!==e&&null!==e,"missing value"),F(void 0!==t&&null!==t,"missing offset"),F(t<this.length,"trying to write beyond buffer length"),H(e,255)),t>=this.length?void 0:(this[t]=e,t+1)},r.prototype.writeUInt16LE=function(e,t,n){return _(this,e,t,!0,n)},r.prototype.writeUInt16BE=function(e,t,n){return _(this,e,t,!1,n)},r.prototype.writeUInt32LE=function(e,t,n){return E(this,e,t,!0,n)},r.prototype.writeUInt32BE=function(e,t,n){return E(this,e,t,!1,n)},r.prototype.writeInt8=function(e,t,n){return n||(F(void 0!==e&&null!==e,"missing value"),F(void 0!==t&&null!==t,"missing offset"),F(t<this.length,"Trying to write beyond buffer length"),D(e,127,-128)),t>=this.length?void 0:(e>=0?this.writeUInt8(e,t,n):this.writeUInt8(255+e+1,t,n),t+1)},r.prototype.writeInt16LE=function(e,t,n){return S(this,e,t,!0,n)},r.prototype.writeInt16BE=function(e,t,n){return S(this,e,t,!1,n)},r.prototype.writeInt32LE=function(e,t,n){return A(this,e,t,!0,n)},r.prototype.writeInt32BE=function(e,t,n){return A(this,e,t,!1,n)},r.prototype.writeFloatLE=function(e,t,n){return O(this,e,t,!0,n)},r.prototype.writeFloatBE=function(e,t,n){return O(this,e,t,!1,n)},r.prototype.writeDoubleLE=function(e,t,n){return k(this,e,t,!0,n)},r.prototype.writeDoubleBE=function(e,t,n){return k(this,e,t,!1,n)},r.prototype.fill=function(e,t,n){if(e||(e=0),t||(t=0),n||(n=this.length),F(n>=t,"end < start"),n!==t&&0!==this.length){F(t>=0&&t<this.length,"start out of bounds"),F(n>=0&&n<=this.length,"end out of bounds");var r;if("number"==typeof e)for(r=t;n>r;r++)this[r]=e;else{var i=L(e.toString()),o=i.length;for(r=t;n>r;r++)this[r]=i[r%o]}return this}},r.prototype.inspect=function(){for(var e=[],t=this.length,r=0;t>r;r++)if(e[r]=T(this[r]),r===n.INSPECT_MAX_BYTES){e[r+1]="...";break}return"<Buffer "+e.join(" ")+">"},r.prototype.toArrayBuffer=function(){if("undefined"!=typeof Uint8Array){if(W)return new r(this).buffer;for(var e=new Uint8Array(this.length),t=0,n=e.length;n>t;t+=1)e[t]=this[t];return e.buffer}throw new Error("Buffer.toArrayBuffer not supported in this browser")};var K=r.prototype;r._augment=function(e){return e._isBuffer=!0,e._get=e.get,e._set=e.set,e.get=K.get,e.set=K.set,e.write=K.write,e.toString=K.toString,e.toLocaleString=K.toString,e.toJSON=K.toJSON,e.equals=K.equals,e.compare=K.compare,e.copy=K.copy,e.slice=K.slice,e.readUInt8=K.readUInt8,e.readUInt16LE=K.readUInt16LE,e.readUInt16BE=K.readUInt16BE,e.readUInt32LE=K.readUInt32LE,e.readUInt32BE=K.readUInt32BE,e.readInt8=K.readInt8,e.readInt16LE=K.readInt16LE,e.readInt16BE=K.readInt16BE,e.readInt32LE=K.readInt32LE,e.readInt32BE=K.readInt32BE,e.readFloatLE=K.readFloatLE,e.readFloatBE=K.readFloatBE,e.readDoubleLE=K.readDoubleLE,e.readDoubleBE=K.readDoubleBE,e.writeUInt8=K.writeUInt8,e.writeUInt16LE=K.writeUInt16LE,e.writeUInt16BE=K.writeUInt16BE,e.writeUInt32LE=K.writeUInt32LE,e.writeUInt32BE=K.writeUInt32BE,e.writeInt8=K.writeInt8,e.writeInt16LE=K.writeInt16LE,e.writeInt16BE=K.writeInt16BE,e.writeInt32LE=K.writeInt32LE,e.writeInt32BE=K.writeInt32BE,e.writeFloatLE=K.writeFloatLE,e.writeFloatBE=K.writeFloatBE,e.writeDoubleLE=K.writeDoubleLE,e.writeDoubleBE=K.writeDoubleBE,e.fill=K.fill,e.inspect=K.inspect,e.toArrayBuffer=K.toArrayBuffer,e};var Q=/[^+\/0-9A-z]/g},{"base64-js":32,ieee754:33}],32:[function(e,t,n){var r="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/";!function(e){"use strict";function t(e){var t=e.charCodeAt(0);return t===u?62:t===s?63:a>t?-1:a+10>t?t-a+26+26:f+26>t?t-f:c+26>t?t-c+26:void 0}function n(e){function n(e){c[l++]=e}var r,i,u,s,a,c;if(e.length%4>0)throw new Error("Invalid string. Length must be a multiple of 4");var f=e.length;a="="===e.charAt(f-2)?2:"="===e.charAt(f-1)?1:0,c=new o(3*e.length/4-a),u=a>0?e.length-4:e.length;var l=0;for(r=0,i=0;u>r;r+=4,i+=3)s=t(e.charAt(r))<<18|t(e.charAt(r+1))<<12|t(e.charAt(r+2))<<6|t(e.charAt(r+3)),n((16711680&s)>>16),n((65280&s)>>8),n(255&s);return 2===a?(s=t(e.charAt(r))<<2|t(e.charAt(r+1))>>4,n(255&s)):1===a&&(s=t(e.charAt(r))<<10|t(e.charAt(r+1))<<4|t(e.charAt(r+2))>>2,n(s>>8&255),n(255&s)),c}function i(e){function t(e){return r.charAt(e)}function n(e){return t(e>>18&63)+t(e>>12&63)+t(e>>6&63)+t(63&e)}var i,o,u,s=e.length%3,a="";for(i=0,u=e.length-s;u>i;i+=3)o=(e[i]<<16)+(e[i+1]<<8)+e[i+2],a+=n(o);switch(s){case 1:o=e[e.length-1],a+=t(o>>2),a+=t(o<<4&63),a+="==";break;case 2:o=(e[e.length-2]<<8)+e[e.length-1],a+=t(o>>10),a+=t(o>>4&63),a+=t(o<<2&63),a+="="}return a}var o="undefined"!=typeof Uint8Array?Uint8Array:Array,u="+".charCodeAt(0),s="/".charCodeAt(0),a="0".charCodeAt(0),c="a".charCodeAt(0),f="A".charCodeAt(0);e.toByteArray=n,e.fromByteArray=i}("undefined"==typeof n?this.base64js={}:n)},{}],33:[function(e,t,n){n.read=function(e,t,n,r,i){var o,u,s=8*i-r-1,a=(1<<s)-1,c=a>>1,f=-7,l=n?i-1:0,p=n?-1:1,d=e[t+l];for(l+=p,o=d&(1<<-f)-1,d>>=-f,f+=s;f>0;o=256*o+e[t+l],l+=p,f-=8);for(u=o&(1<<-f)-1,o>>=-f,f+=r;f>0;u=256*u+e[t+l],l+=p,f-=8);if(0===o)o=1-c;else{if(o===a)return u?0/0:1/0*(d?-1:1);u+=Math.pow(2,r),o-=c}return(d?-1:1)*u*Math.pow(2,o-r)},n.write=function(e,t,n,r,i,o){var u,s,a,c=8*o-i-1,f=(1<<c)-1,l=f>>1,p=23===i?Math.pow(2,-24)-Math.pow(2,-77):0,d=r?0:o-1,h=r?1:-1,g=0>t||0===t&&0>1/t?1:0;for(t=Math.abs(t),isNaN(t)||1/0===t?(s=isNaN(t)?1:0,u=f):(u=Math.floor(Math.log(t)/Math.LN2),t*(a=Math.pow(2,-u))<1&&(u--,a*=2),t+=u+l>=1?p/a:p*Math.pow(2,1-l),t*a>=2&&(u++,a/=2),u+l>=f?(s=0,u=f):u+l>=1?(s=(t*a-1)*Math.pow(2,i),u+=l):(s=t*Math.pow(2,l-1)*Math.pow(2,i),u=0));i>=8;e[n+d]=255&s,d+=h,s/=256,i-=8);for(u=u<<i|s,c+=i;c>0;e[n+d]=255&u,d+=h,u/=256,c-=8);e[n+d-h]|=128*g}},{}],34:[function(e,t){(function(n){function r(e){return function(){var t=[],r={update:function(e,r){return n.isBuffer(e)||(e=new n(e,r)),t.push(e),this},digest:function(r){var i=n.concat(t),o=e(i);return t=null,r?o.toString(r):o}};return r}}var i=e("sha.js"),o=r(e("./md5")),u=r(e("ripemd160"));t.exports=function(e){return"md5"===e?new o:"rmd160"===e?new u:i(e)}}).call(this,e("buffer").Buffer)},{"./md5":38,buffer:31,ripemd160:39,"sha.js":41}],35:[function(e,t){(function(n){function r(e,t){if(!(this instanceof r))return new r(e,t);this._opad=a,this._alg=e,t=this._key=n.isBuffer(t)?t:new n(t),t.length>o?t=i(e).update(t).digest():t.length<o&&(t=n.concat([t,u],o));for(var s=this._ipad=new n(o),a=this._opad=new n(o),c=0;o>c;c++)s[c]=54^t[c],a[c]=92^t[c];this._hash=i(e).update(s)}var i=e("./create-hash"),o=64,u=new n(o);u.fill(0),t.exports=r,r.prototype.update=function(e,t){return this._hash.update(e,t),this},r.prototype.digest=function(e){var t=this._hash.digest();return i(this._alg).update(this._opad).update(t).digest(e)}}).call(this,e("buffer").Buffer)},{"./create-hash":34,buffer:31}],36:[function(e,t){(function(e){function n(t,n){if(t.length%o!==0){var r=t.length+(o-t.length%o);t=e.concat([t,u],r)}for(var i=[],s=n?t.readInt32BE:t.readInt32LE,a=0;a<t.length;a+=o)i.push(s.call(t,a));return i}function r(t,n,r){for(var i=new e(n),o=r?i.writeInt32BE:i.writeInt32LE,u=0;u<t.length;u++)o.call(i,t[u],4*u,!0);return i}function i(t,i,o,u){e.isBuffer(t)||(t=new e(t));var a=i(n(t,u),t.length*s);return r(a,o,u)}var o=4,u=new e(o);u.fill(0);var s=8;t.exports={hash:i}}).call(this,e("buffer").Buffer)},{buffer:31}],37:[function(e,t,n){(function(t){function r(){var e=[].slice.call(arguments).join(" ");throw new Error([e,"we accept pull requests","http://github.com/dominictarr/crypto-browserify"].join("\n"))}function i(e,t){for(var n in e)t(e[n],n)}var o=e("./rng");n.createHash=e("./create-hash"),n.createHmac=e("./create-hmac"),n.randomBytes=function(e,n){if(!n||!n.call)return new t(o(e));try{n.call(this,void 0,new t(o(e)))}catch(r){n(r)}},n.getHashes=function(){return["sha1","sha256","md5","rmd160"]};var u=e("./pbkdf2")(n.createHmac);n.pbkdf2=u.pbkdf2,n.pbkdf2Sync=u.pbkdf2Sync,i(["createCredentials","createCipher","createCipheriv","createDecipher","createDecipheriv","createSign","createVerify","createDiffieHellman"],function(e){n[e]=function(){r("sorry,",e,"is not implemented yet")}})}).call(this,e("buffer").Buffer)},{"./create-hash":34,"./create-hmac":35,"./pbkdf2":45,"./rng":46,buffer:31}],38:[function(e,t){function n(e,t){e[t>>5]|=128<<t%32,e[(t+64>>>9<<4)+14]=t;
for(var n=1732584193,r=-271733879,c=-1732584194,f=271733878,l=0;l<e.length;l+=16){var p=n,d=r,h=c,g=f;n=i(n,r,c,f,e[l+0],7,-680876936),f=i(f,n,r,c,e[l+1],12,-389564586),c=i(c,f,n,r,e[l+2],17,606105819),r=i(r,c,f,n,e[l+3],22,-1044525330),n=i(n,r,c,f,e[l+4],7,-176418897),f=i(f,n,r,c,e[l+5],12,1200080426),c=i(c,f,n,r,e[l+6],17,-1473231341),r=i(r,c,f,n,e[l+7],22,-45705983),n=i(n,r,c,f,e[l+8],7,1770035416),f=i(f,n,r,c,e[l+9],12,-1958414417),c=i(c,f,n,r,e[l+10],17,-42063),r=i(r,c,f,n,e[l+11],22,-1990404162),n=i(n,r,c,f,e[l+12],7,1804603682),f=i(f,n,r,c,e[l+13],12,-40341101),c=i(c,f,n,r,e[l+14],17,-1502002290),r=i(r,c,f,n,e[l+15],22,1236535329),n=o(n,r,c,f,e[l+1],5,-165796510),f=o(f,n,r,c,e[l+6],9,-1069501632),c=o(c,f,n,r,e[l+11],14,643717713),r=o(r,c,f,n,e[l+0],20,-373897302),n=o(n,r,c,f,e[l+5],5,-701558691),f=o(f,n,r,c,e[l+10],9,38016083),c=o(c,f,n,r,e[l+15],14,-660478335),r=o(r,c,f,n,e[l+4],20,-405537848),n=o(n,r,c,f,e[l+9],5,568446438),f=o(f,n,r,c,e[l+14],9,-1019803690),c=o(c,f,n,r,e[l+3],14,-187363961),r=o(r,c,f,n,e[l+8],20,1163531501),n=o(n,r,c,f,e[l+13],5,-1444681467),f=o(f,n,r,c,e[l+2],9,-51403784),c=o(c,f,n,r,e[l+7],14,1735328473),r=o(r,c,f,n,e[l+12],20,-1926607734),n=u(n,r,c,f,e[l+5],4,-378558),f=u(f,n,r,c,e[l+8],11,-2022574463),c=u(c,f,n,r,e[l+11],16,1839030562),r=u(r,c,f,n,e[l+14],23,-35309556),n=u(n,r,c,f,e[l+1],4,-1530992060),f=u(f,n,r,c,e[l+4],11,1272893353),c=u(c,f,n,r,e[l+7],16,-155497632),r=u(r,c,f,n,e[l+10],23,-1094730640),n=u(n,r,c,f,e[l+13],4,681279174),f=u(f,n,r,c,e[l+0],11,-358537222),c=u(c,f,n,r,e[l+3],16,-722521979),r=u(r,c,f,n,e[l+6],23,76029189),n=u(n,r,c,f,e[l+9],4,-640364487),f=u(f,n,r,c,e[l+12],11,-421815835),c=u(c,f,n,r,e[l+15],16,530742520),r=u(r,c,f,n,e[l+2],23,-995338651),n=s(n,r,c,f,e[l+0],6,-198630844),f=s(f,n,r,c,e[l+7],10,1126891415),c=s(c,f,n,r,e[l+14],15,-1416354905),r=s(r,c,f,n,e[l+5],21,-57434055),n=s(n,r,c,f,e[l+12],6,1700485571),f=s(f,n,r,c,e[l+3],10,-1894986606),c=s(c,f,n,r,e[l+10],15,-1051523),r=s(r,c,f,n,e[l+1],21,-2054922799),n=s(n,r,c,f,e[l+8],6,1873313359),f=s(f,n,r,c,e[l+15],10,-30611744),c=s(c,f,n,r,e[l+6],15,-1560198380),r=s(r,c,f,n,e[l+13],21,1309151649),n=s(n,r,c,f,e[l+4],6,-145523070),f=s(f,n,r,c,e[l+11],10,-1120210379),c=s(c,f,n,r,e[l+2],15,718787259),r=s(r,c,f,n,e[l+9],21,-343485551),n=a(n,p),r=a(r,d),c=a(c,h),f=a(f,g)}return Array(n,r,c,f)}function r(e,t,n,r,i,o){return a(c(a(a(t,e),a(r,o)),i),n)}function i(e,t,n,i,o,u,s){return r(t&n|~t&i,e,t,o,u,s)}function o(e,t,n,i,o,u,s){return r(t&i|n&~i,e,t,o,u,s)}function u(e,t,n,i,o,u,s){return r(t^n^i,e,t,o,u,s)}function s(e,t,n,i,o,u,s){return r(n^(t|~i),e,t,o,u,s)}function a(e,t){var n=(65535&e)+(65535&t),r=(e>>16)+(t>>16)+(n>>16);return r<<16|65535&n}function c(e,t){return e<<t|e>>>32-t}var f=e("./helpers");t.exports=function(e){return f.hash(e,n,16)}},{"./helpers":36}],39:[function(e,t){(function(e){function n(e,t,n){return e^t^n}function r(e,t,n){return e&t|~e&n}function i(e,t,n){return(e|~t)^n}function o(e,t,n){return e&n|t&~n}function u(e,t,n){return e^(t|~n)}function s(e,t){return e<<t|e>>>32-t}function a(t){var n=[1732584193,4023233417,2562383102,271733878,3285377520];"string"==typeof t&&(t=new e(t,"utf8"));var r=g(t),i=8*t.length,o=8*t.length;r[i>>>5]|=128<<24-i%32,r[(i+64>>>9<<4)+14]=16711935&(o<<8|o>>>24)|4278255360&(o<<24|o>>>8);for(var u=0;u<r.length;u+=16)m(n,r,u);for(var u=0;5>u;u++){var s=n[u];n[u]=16711935&(s<<8|s>>>24)|4278255360&(s<<24|s>>>8)}var a=y(n);return new e(a)}t.exports=a;var c=[0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,7,4,13,1,10,6,15,3,12,0,9,5,2,14,11,8,3,10,14,4,9,15,8,1,2,7,0,6,13,11,5,12,1,9,11,10,0,8,12,4,13,3,7,15,14,5,6,2,4,0,5,9,7,12,2,10,14,1,3,8,11,6,15,13],f=[5,14,7,0,9,2,11,4,13,6,15,8,1,10,3,12,6,11,3,7,0,13,5,10,14,15,8,12,4,9,1,2,15,5,1,3,7,14,6,9,11,8,12,2,10,0,4,13,8,6,4,1,3,11,15,0,5,12,2,13,9,7,10,14,12,15,10,4,1,5,8,7,6,2,13,14,0,3,9,11],l=[11,14,15,12,5,8,7,9,11,13,14,15,6,7,9,8,7,6,8,13,11,9,7,15,7,12,15,9,11,7,13,12,11,13,6,7,14,9,13,15,14,8,13,6,5,12,7,5,11,12,14,15,14,15,9,8,9,14,5,6,8,6,5,12,9,15,5,11,6,8,13,12,5,12,13,14,11,8,5,6],p=[8,9,9,11,13,15,15,5,7,7,8,11,14,14,12,6,9,13,15,7,12,8,9,11,7,7,12,7,6,15,13,11,9,7,15,11,8,6,6,14,12,13,5,14,13,13,7,5,15,5,8,11,14,14,6,14,6,9,12,9,12,5,15,8,8,5,12,9,12,5,14,6,8,13,6,5,15,13,11,11],d=[0,1518500249,1859775393,2400959708,2840853838],h=[1352829926,1548603684,1836072691,2053994217,0],g=function(e){for(var t=[],n=0,r=0;n<e.length;n++,r+=8)t[r>>>5]|=e[n]<<24-r%32;return t},y=function(e){for(var t=[],n=0;n<32*e.length;n+=8)t.push(e[n>>>5]>>>24-n%32&255);return t},m=function(e,t,a){for(var g=0;16>g;g++){var y=a+g,m=t[y];t[y]=16711935&(m<<8|m>>>24)|4278255360&(m<<24|m>>>8)}var v,w,b,x,_,E,S,A,O,k;E=v=e[0],S=w=e[1],A=b=e[2],O=x=e[3],k=_=e[4];for(var C,g=0;80>g;g+=1)C=v+t[a+c[g]]|0,C+=16>g?n(w,b,x)+d[0]:32>g?r(w,b,x)+d[1]:48>g?i(w,b,x)+d[2]:64>g?o(w,b,x)+d[3]:u(w,b,x)+d[4],C=0|C,C=s(C,l[g]),C=C+_|0,v=_,_=x,x=s(b,10),b=w,w=C,C=E+t[a+f[g]]|0,C+=16>g?u(S,A,O)+h[0]:32>g?o(S,A,O)+h[1]:48>g?i(S,A,O)+h[2]:64>g?r(S,A,O)+h[3]:n(S,A,O)+h[4],C=0|C,C=s(C,p[g]),C=C+k|0,E=k,k=O,O=s(A,10),A=S,S=C;C=e[1]+b+O|0,e[1]=e[2]+x+k|0,e[2]=e[3]+_+E|0,e[3]=e[4]+v+S|0,e[4]=e[0]+w+A|0,e[0]=C}}).call(this,e("buffer").Buffer)},{buffer:31}],40:[function(e,t){var n=e("./util"),r=n.write,i=n.zeroFill;t.exports=function(e){function t(t,n){this._block=new e(t),this._finalSize=n,this._blockSize=t,this._len=0,this._s=0}function o(e,t){return null==t?e.byteLength||e.length:"ascii"==t||"binary"==t?e.length:"hex"==t?e.length/2:"base64"==t?e.length/3:void 0}return t.prototype.init=function(){this._s=0,this._len=0},t.prototype.update=function(t,n){var i,u=this._blockSize;n||"string"!=typeof t||(n="utf8"),n?("utf-8"===n&&(n="utf8"),("base64"===n||"utf8"===n)&&(t=new e(t,n),n=null),i=o(t,n)):i=t.byteLength||t.length;for(var s=this._len+=i,a=this._s=this._s||0,c=0,f=this._block;s>a;){var l=Math.min(i,c+u-a%u);r(f,t,n,a%u,c,l);var p=l-c;a+=p,c+=p,a%u||this._update(f)}return this._s=a,this},t.prototype.digest=function(e){var t=this._blockSize,r=this._finalSize,o=8*this._len,u=this._block,s=o%(8*t);u[this._len%t]=128,i(this._block,this._len%t+1),s>=8*r&&(this._update(this._block),n.zeroFill(this._block,0)),u.writeInt32BE(o,r+4);var a=this._update(this._block)||this._hash();return null==e?a:a.toString(e)},t.prototype._update=function(){throw new Error("_update must be implemented by subclass")},t}},{"./util":44}],41:[function(e,t,n){var n=t.exports=function(e){var t=n[e];if(!t)throw new Error(e+" is not supported (we accept pull requests)");return new t},r=e("buffer").Buffer,i=e("./hash")(r);n.sha=n.sha1=e("./sha1")(r,i),n.sha256=e("./sha256")(r,i)},{"./hash":40,"./sha1":42,"./sha256":43,buffer:31}],42:[function(e,t){t.exports=function(t,n){function r(){return g.length?g.pop().init():this instanceof r?(this._w=h,n.call(this,64,56),this._h=null,void this.init()):new r}function i(e,t,n,r){return 20>e?t&n|~t&r:40>e?t^n^r:60>e?t&n|t&r|n&r:t^n^r}function o(e){return 20>e?1518500249:40>e?1859775393:60>e?-1894007588:-899497514}function u(e,t){return e+t|0}function s(e,t){return e<<t|e>>>32-t}var a=e("util").inherits;a(r,n);var c=0,f=4,l=8,p=12,d=16,h=new Int32Array(80),g=[];r.prototype.init=function(){return this._a=1732584193,this._b=4023233417,this._c=2562383102,this._d=271733878,this._e=3285377520,n.prototype.init.call(this),this},r.prototype._POOL=g;new t(1)instanceof DataView;return r.prototype._update=function(){{var e,t,n,r,a,c,f,l,p,d,h=this._block;this._h}e=c=this._a,t=f=this._b,n=l=this._c,r=p=this._d,a=d=this._e;for(var g=this._w,y=0;80>y;y++){var m=g[y]=16>y?h.readInt32BE(4*y):s(g[y-3]^g[y-8]^g[y-14]^g[y-16],1),v=u(u(s(e,5),i(y,t,n,r)),u(u(a,m),o(y)));a=r,r=n,n=s(t,30),t=e,e=v}this._a=u(e,c),this._b=u(t,f),this._c=u(n,l),this._d=u(r,p),this._e=u(a,d)},r.prototype._hash=function(){g.length<100&&g.push(this);var e=new t(20);return e.writeInt32BE(0|this._a,c),e.writeInt32BE(0|this._b,f),e.writeInt32BE(0|this._c,l),e.writeInt32BE(0|this._d,p),e.writeInt32BE(0|this._e,d),e},r}},{util:51}],43:[function(e,t){{var n=e("util").inherits;e("./util")}t.exports=function(e,t){function r(){h.length,this.init(),this._w=d,t.call(this,64,56)}function i(e,t){return e>>>t|e<<32-t}function o(e,t){return e>>>t}function u(e,t,n){return e&t^~e&n}function s(e,t,n){return e&t^e&n^t&n}function a(e){return i(e,2)^i(e,13)^i(e,22)}function c(e){return i(e,6)^i(e,11)^i(e,25)}function f(e){return i(e,7)^i(e,18)^o(e,3)}function l(e){return i(e,17)^i(e,19)^o(e,10)}var p=[1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,3329325298];n(r,t);var d=new Array(64),h=[];r.prototype.init=function(){return this._a=1779033703,this._b=-1150833019,this._c=1013904242,this._d=-1521486534,this._e=1359893119,this._f=-1694144372,this._g=528734635,this._h=1541459225,this._len=this._s=0,this};return r.prototype._update=function(){var e,t,n,r,i,o,d,h,g,y,m=this._block,v=this._w;e=0|this._a,t=0|this._b,n=0|this._c,r=0|this._d,i=0|this._e,o=0|this._f,d=0|this._g,h=0|this._h;for(var w=0;64>w;w++){var b=v[w]=16>w?m.readInt32BE(4*w):l(v[w-2])+v[w-7]+f(v[w-15])+v[w-16];g=h+c(i)+u(i,o,d)+p[w]+b,y=a(e)+s(e,t,n),h=d,d=o,o=i,i=r+g,r=n,n=t,t=e,e=g+y}this._a=e+this._a|0,this._b=t+this._b|0,this._c=n+this._c|0,this._d=r+this._d|0,this._e=i+this._e|0,this._f=o+this._f|0,this._g=d+this._g|0,this._h=h+this._h|0},r.prototype._hash=function(){h.length<10&&h.push(this);var t=new e(32);return t.writeInt32BE(this._a,0),t.writeInt32BE(this._b,4),t.writeInt32BE(this._c,8),t.writeInt32BE(this._d,12),t.writeInt32BE(this._e,16),t.writeInt32BE(this._f,20),t.writeInt32BE(this._g,24),t.writeInt32BE(this._h,28),t},r}},{"./util":44,util:51}],44:[function(e,t,n){function r(e,t,n,r,i,o){var u=o-i;if("ascii"===n||"binary"===n)for(var s=0;u>s;s++)e[r+s]=t.charCodeAt(s+i);else if(null==n)for(var s=0;u>s;s++)e[r+s]=t[s+i];else{if("hex"!==n)throw new Error("base64"===n?"base64 encoding not yet supported":n+" encoding not yet supported");for(var s=0;u>s;s++){var a=i+s;e[r+s]=parseInt(t[2*a]+t[2*a+1],16)}}}function i(e,t){for(var n=t;n<e.length;n++)e[n]=0}n.write=r,n.zeroFill=i,n.toString=toString},{}],45:[function(e,t){(function(e){var n=64,r=new e(n);r.fill(0),t.exports=function(t,i){return i=i||{},i.pbkdf2=function(e,t,n,r,o){if("function"!=typeof o)throw new Error("No callback provided to pbkdf2");setTimeout(function(){o(null,i.pbkdf2Sync(e,t,n,r))})},i.pbkdf2Sync=function(i,o,u,s){if("number"!=typeof u)throw new TypeError("Iterations not a number");if(0>u)throw new TypeError("Bad iterations");if("number"!=typeof s)throw new TypeError("Key length not a number");if(0>s)throw new TypeError("Bad key length");var i=e.isBuffer(i)?i:new e(i);i.length>n?i=createHash(alg).update(i).digest():i.length<n&&(i=e.concat([i,r],n));var a,c,f,l=0,p=1,d=new e(4),h=new e(s);for(h.fill(0);s;){c=s>20?20:s,d[0]=p>>24&255,d[1]=p>>16&255,d[2]=p>>8&255,d[3]=255&p,a=t("sha1",i),a.update(o),a.update(d),f=a.digest(),f.copy(h,l,0,c);for(var g=1;u>g;g++){a=t("sha1",i),a.update(f),f=a.digest();for(var y=0;c>y;y++)h[y]^=f[y]}s-=c,p++,l+=c}return h},i}}).call(this,e("buffer").Buffer)},{buffer:31}],46:[function(e,t){(function(e){!function(){t.exports=function(t){var n=new e(t);return crypto.getRandomValues(n),n}}()}).call(this,e("buffer").Buffer)},{buffer:31}],47:[function(e,t){t.exports="function"==typeof Object.create?function(e,t){e.super_=t,e.prototype=Object.create(t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}})}:function(e,t){e.super_=t;var n=function(){};n.prototype=t.prototype,e.prototype=new n,e.prototype.constructor=e}},{}],48:[function(e,t,n){n.endianness=function(){return"LE"},n.hostname=function(){return"undefined"!=typeof location?location.hostname:""},n.loadavg=function(){return[]},n.uptime=function(){return 0},n.freemem=function(){return Number.MAX_VALUE},n.totalmem=function(){return Number.MAX_VALUE},n.cpus=function(){return[]},n.type=function(){return"Browser"},n.release=function(){return"undefined"!=typeof navigator?navigator.appVersion:""},n.networkInterfaces=n.getNetworkInterfaces=function(){return{}},n.arch=function(){return"javascript"},n.platform=function(){return"browser"},n.tmpdir=n.tmpDir=function(){return"/tmp"},n.EOL="\n"},{}],49:[function(e,t){function n(){}var r=t.exports={};r.nextTick=function(){var e="undefined"!=typeof window&&window.setImmediate,t="undefined"!=typeof window&&window.postMessage&&window.addEventListener;if(e)return function(e){return window.setImmediate(e)};if(t){var n=[];return window.addEventListener("message",function(e){var t=e.source;if((t===window||null===t)&&"process-tick"===e.data&&(e.stopPropagation(),n.length>0)){var r=n.shift();r()}},!0),function(e){n.push(e),window.postMessage("process-tick","*")}}return function(e){setTimeout(e,0)}}(),r.title="browser",r.browser=!0,r.env={},r.argv=[],r.on=n,r.addListener=n,r.once=n,r.off=n,r.removeListener=n,r.removeAllListeners=n,r.emit=n,r.binding=function(){throw new Error("process.binding is not supported")},r.cwd=function(){return"/"},r.chdir=function(){throw new Error("process.chdir is not supported")}},{}],50:[function(e,t){t.exports=function(e){return e&&"object"==typeof e&&"function"==typeof e.copy&&"function"==typeof e.fill&&"function"==typeof e.readUInt8}},{}],51:[function(e,t,n){(function(t,r){function i(e,t){var r={seen:[],stylize:u};return arguments.length>=3&&(r.depth=arguments[2]),arguments.length>=4&&(r.colors=arguments[3]),g(t)?r.showHidden=t:t&&n._extend(r,t),x(r.showHidden)&&(r.showHidden=!1),x(r.depth)&&(r.depth=2),x(r.colors)&&(r.colors=!1),x(r.customInspect)&&(r.customInspect=!0),r.colors&&(r.stylize=o),a(r,e,r.depth)}function o(e,t){var n=i.styles[t];return n?"["+i.colors[n][0]+"m"+e+"["+i.colors[n][1]+"m":e}function u(e){return e}function s(e){var t={};return e.forEach(function(e){t[e]=!0}),t}function a(e,t,r){if(e.customInspect&&t&&O(t.inspect)&&t.inspect!==n.inspect&&(!t.constructor||t.constructor.prototype!==t)){var i=t.inspect(r,e);return w(i)||(i=a(e,i,r)),i}var o=c(e,t);if(o)return o;var u=Object.keys(t),g=s(u);if(e.showHidden&&(u=Object.getOwnPropertyNames(t)),A(t)&&(u.indexOf("message")>=0||u.indexOf("description")>=0))return f(t);if(0===u.length){if(O(t)){var y=t.name?": "+t.name:"";return e.stylize("[Function"+y+"]","special")}if(_(t))return e.stylize(RegExp.prototype.toString.call(t),"regexp");if(S(t))return e.stylize(Date.prototype.toString.call(t),"date");if(A(t))return f(t)}var m="",v=!1,b=["{","}"];if(h(t)&&(v=!0,b=["[","]"]),O(t)){var x=t.name?": "+t.name:"";m=" [Function"+x+"]"}if(_(t)&&(m=" "+RegExp.prototype.toString.call(t)),S(t)&&(m=" "+Date.prototype.toUTCString.call(t)),A(t)&&(m=" "+f(t)),0===u.length&&(!v||0==t.length))return b[0]+m+b[1];if(0>r)return _(t)?e.stylize(RegExp.prototype.toString.call(t),"regexp"):e.stylize("[Object]","special");e.seen.push(t);var E;return E=v?l(e,t,r,g,u):u.map(function(n){return p(e,t,r,g,n,v)}),e.seen.pop(),d(E,m,b)}function c(e,t){if(x(t))return e.stylize("undefined","undefined");if(w(t)){var n="'"+JSON.stringify(t).replace(/^"|"$/g,"").replace(/'/g,"\\'").replace(/\\"/g,'"')+"'";return e.stylize(n,"string")}return v(t)?e.stylize(""+t,"number"):g(t)?e.stylize(""+t,"boolean"):y(t)?e.stylize("null","null"):void 0}function f(e){return"["+Error.prototype.toString.call(e)+"]"}function l(e,t,n,r,i){for(var o=[],u=0,s=t.length;s>u;++u)o.push(P(t,String(u))?p(e,t,n,r,String(u),!0):"");return i.forEach(function(i){i.match(/^\d+$/)||o.push(p(e,t,n,r,i,!0))}),o}function p(e,t,n,r,i,o){var u,s,c;if(c=Object.getOwnPropertyDescriptor(t,i)||{value:t[i]},c.get?s=c.set?e.stylize("[Getter/Setter]","special"):e.stylize("[Getter]","special"):c.set&&(s=e.stylize("[Setter]","special")),P(r,i)||(u="["+i+"]"),s||(e.seen.indexOf(c.value)<0?(s=y(n)?a(e,c.value,null):a(e,c.value,n-1),s.indexOf("\n")>-1&&(s=o?s.split("\n").map(function(e){return"  "+e}).join("\n").substr(2):"\n"+s.split("\n").map(function(e){return"   "+e}).join("\n"))):s=e.stylize("[Circular]","special")),x(u)){if(o&&i.match(/^\d+$/))return s;u=JSON.stringify(""+i),u.match(/^"([a-zA-Z_][a-zA-Z_0-9]*)"$/)?(u=u.substr(1,u.length-2),u=e.stylize(u,"name")):(u=u.replace(/'/g,"\\'").replace(/\\"/g,'"').replace(/(^"|"$)/g,"'"),u=e.stylize(u,"string"))}return u+": "+s}function d(e,t,n){var r=0,i=e.reduce(function(e,t){return r++,t.indexOf("\n")>=0&&r++,e+t.replace(/\u001b\[\d\d?m/g,"").length+1},0);return i>60?n[0]+(""===t?"":t+"\n ")+" "+e.join(",\n  ")+" "+n[1]:n[0]+t+" "+e.join(", ")+" "+n[1]}function h(e){return Array.isArray(e)}function g(e){return"boolean"==typeof e}function y(e){return null===e}function m(e){return null==e}function v(e){return"number"==typeof e}function w(e){return"string"==typeof e}function b(e){return"symbol"==typeof e}function x(e){return void 0===e}function _(e){return E(e)&&"[object RegExp]"===C(e)}function E(e){return"object"==typeof e&&null!==e}function S(e){return E(e)&&"[object Date]"===C(e)}function A(e){return E(e)&&("[object Error]"===C(e)||e instanceof Error)}function O(e){return"function"==typeof e}function k(e){return null===e||"boolean"==typeof e||"number"==typeof e||"string"==typeof e||"symbol"==typeof e||"undefined"==typeof e}function C(e){return Object.prototype.toString.call(e)}function j(e){return 10>e?"0"+e.toString(10):e.toString(10)}function U(){var e=new Date,t=[j(e.getHours()),j(e.getMinutes()),j(e.getSeconds())].join(":");return[e.getDate(),B[e.getMonth()],t].join(" ")}function P(e,t){return Object.prototype.hasOwnProperty.call(e,t)}var T=/%[sdj%]/g;n.format=function(e){if(!w(e)){for(var t=[],n=0;n<arguments.length;n++)t.push(i(arguments[n]));return t.join(" ")}for(var n=1,r=arguments,o=r.length,u=String(e).replace(T,function(e){if("%%"===e)return"%";if(n>=o)return e;switch(e){case"%s":return String(r[n++]);case"%d":return Number(r[n++]);case"%j":try{return JSON.stringify(r[n++])}catch(t){return"[Circular]"}default:return e}}),s=r[n];o>n;s=r[++n])u+=y(s)||!E(s)?" "+s:" "+i(s);return u},n.deprecate=function(e,i){function o(){if(!u){if(t.throwDeprecation)throw new Error(i);t.traceDeprecation?console.trace(i):console.error(i),u=!0}return e.apply(this,arguments)}if(x(r.process))return function(){return n.deprecate(e,i).apply(this,arguments)};if(t.noDeprecation===!0)return e;var u=!1;return o};var L,R={};n.debuglog=function(e){if(x(L)&&(L=t.env.NODE_DEBUG||""),e=e.toUpperCase(),!R[e])if(new RegExp("\\b"+e+"\\b","i").test(L)){var r=t.pid;R[e]=function(){var t=n.format.apply(n,arguments);console.error("%s %d: %s",e,r,t)}}else R[e]=function(){};return R[e]},n.inspect=i,i.colors={bold:[1,22],italic:[3,23],underline:[4,24],inverse:[7,27],white:[37,39],grey:[90,39],black:[30,39],blue:[34,39],cyan:[36,39],green:[32,39],magenta:[35,39],red:[31,39],yellow:[33,39]},i.styles={special:"cyan",number:"yellow","boolean":"yellow",undefined:"grey","null":"bold",string:"green",date:"magenta",regexp:"red"},n.isArray=h,n.isBoolean=g,n.isNull=y,n.isNullOrUndefined=m,n.isNumber=v,n.isString=w,n.isSymbol=b,n.isUndefined=x,n.isRegExp=_,n.isObject=E,n.isDate=S,n.isError=A,n.isFunction=O,n.isPrimitive=k,n.isBuffer=e("./support/isBuffer");var B=["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"];n.log=function(){console.log("%s - %s",U(),n.format.apply(n,arguments))},n.inherits=e("inherits"),n._extend=function(e,t){if(!t||!E(t))return e;for(var n=Object.keys(t),r=n.length;r--;)e[n[r]]=t[n[r]];return e}}).call(this,e("_process"),"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{"./support/isBuffer":50,_process:49,inherits:47}],52:[function(e,t,n){!function(e){"object"==typeof n?t.exports=e(this):"function"==typeof define&&define.amd?define(e):this.R=e(this)}(function(){"use strict";function e(){return new TypeError("Function called with no arguments")}function t(n,r,i){switch(arguments.length){case 0:throw e();case 1:return t(n,0,n.length);case 2:return t(n,r,n.length);default:for(var o=Math.max(0,i-r),u=new Array(o),s=-1;++s<o;)u[s]=n[r+s];return u}}function n(e,t){e=e||[],t=t||[];var n,r=e.length,i=t.length,o=new Array(r+i);for(n=-1;++n<r;)o[n]=e[n];for(n=-1;++n<i;)o[r+n]=t[n];return o}function r(t){return function(n,r){switch(arguments.length){case 0:throw e();case 1:return function(e){return t(n,e)};default:return t(n,r)}}}function i(t){return function(n,i,o){switch(arguments.length){case 0:throw e();case 1:return r(function(e,r){return t(n,e,r)});case 2:return function(e){return t(n,i,e)};default:return t(n,i,o)}}}function o(e,t){return null!=t&&!W(t)&&"function"==typeof t[e]}function u(e,t){return function(n,r,i){var o=arguments.length,u=arguments[o-1],s=u&&!W(u)&&"function"==typeof u[e];switch(arguments.length){case 0:return t();case 1:return s?u[e]():t(n);case 2:return s?u[e](n):t(n,r);case 3:return s?u[e](n,r):t(n,r,i)}}}function s(e,t){for(var n=-1,r=t.length;++n<r;)e(t[n]);return t}function a(e,t,n){switch(e&&J.call(e)){case"[object Object]":return c(e,{},t,n);case"[object Array]":return c(e,[],t,n);case"[object Function]":return e;case"[object Date]":return new Date(e);default:return e}}function c(e,t,n,r){for(var i=n.length,o=-1;++o<i;)if(e===n[o])return r[o];n.push(e),r.push(t);for(var u in e)t[u]=a(e[u],n,r);return t}function f(e,t){return n([e],t)}function l(e,t){return n(t,[e])}function p(e,t){return function(){return e.call(this,t.apply(this,arguments))}}function d(e,t){return function(){var n=this,r=t.apply(this,arguments);return h(r)?r.then(function(t){return e.call(n,t)}):e.call(this,r)}}function h(e){return null!=e&&e===Object(e)&&e.then&&"function"==typeof e.then}function g(t){return function(){switch(arguments.length){case 0:throw e();case 1:return arguments[0];default:for(var n=arguments.length-1,r=arguments[n],i=r.length;n--;)r=t(arguments[n],r);return tt(i,r)}}}function y(e){return function(n){var r=t(arguments,1);return tt(Math.max(0,n.length-r.length),function(){return n.apply(this,e(r,arguments))})}}function m(e,t){for(var n=-1,r=t.length,i=new Array(r);++n<r;)i[n]=e(t[n]);return i}function v(e,t){for(var n=-1,r=t.length,i=[];++n<r;)e(t[n])&&i.push(t[n]);return i}function w(e,t){for(var n=-1,r=t.length,i=[];++n<r;)e(t[n],n,t)&&i.push(t[n]);return i}function b(e,t){for(var n=-1;++n<t.length;)if(!e(t[n]))return!1;return!0}function x(e,t){for(var n=-1;++n<t.length;)if(e(t[n]))return!0;return!1}function _(e,t,n){var r=0,i=e.length;for("number"==typeof n&&(r=0>n?Math.max(0,i+n):n);i>r;){if(e[r]===t)return r;++r}return-1}function E(e,t,n){var r=e.length;for("number"==typeof n&&(r=0>n?r+n+1:Math.min(r,n+1));--r>=0;)if(e[r]===t)return r;return-1}function S(e,t){return _(t,e)>=0}function A(e,t,n){for(var r=-1,i=n.length;++r<i;)if(e(t,n[r]))return!0;return!1}function O(e){return function t(n){for(var r,i,o,u=[],s=-1,a=n.length;++s<a;)if(K(n[s]))for(r=e?t(n[s]):n[s],i=-1,o=r.length;++i<o;)u.push(r[i]);else u.push(n[s]);return u}}function k(e){return function(t){return m(function(e){return[e,t[e]]},e(t))}}function C(e,t){for(var n,r={},i=qt(t),o=i.length,u=-1;++u<o;)n=i[u],e(t[n],n,t)&&(r[n]=t[n]);return r}function j(e,t){var n={};return s(function(e){n[e]=t[e]},e),n}function U(e,t){for(var n=Dt(t),r=-1,i=n.length;++r<i;)e[n[r]]=t[n[r]];return e}function P(e,t,n){if(e===n)return!0;if(null==n)return!1;t.fn=t.fn||[],t.obj=t.obj||[];for(var r,i,o=-1,u=t.fn.length,s=-1,a=t.obj.length;++o<u;){if(r=t.fn[o],i=e[r],!(r in n))return!1;if(!i(n[r],n))return!1}for(;++s<a;)if(r=t.obj[s],e[r]!==n[r])return!1;return!0}function T(e){return function(n){var r=function(){var t=arguments;return e(function(e){return e.apply(null,t)},n)};return arguments.length>1?r.apply(null,t(arguments,1)):tt(Vt(Ut("length",n)),r)}}function L(e,t){return e+t}function R(e,t){return e*t}function B(e,t){return t>e}function N(e,t){return e>t}function I(t,n){return function(r){if(0===arguments.length)throw e();for(var i,o=-1,u=n;++o<r.length;)i=+r[o],t(i,u)&&(u=i);return u}}function M(e){return function(t,n){if(n&&n.length>0){for(var r,i=0,o=n[i],u=t(o);++i<n.length;)r=t(n[i]),e(r,u)&&(u=r,o=n[i]);return o}}}function H(e,t){var n,r=-1,i=e.length;if(null!=t){for(n=t;null!=n&&++r<i;)n=n[e[r]];return n}}function D(e,t){return m(function(t){return{key:e(t),val:t}},t)}function q(e){return function(t){return v(function(e){return"function"==typeof t[e]},e(t))}}var F,z={version:"0.8.0"},J=Object.prototype.toString,W=Array.isArray||function(e){return null!=e&&e.length>=0&&"[object Array]"===J.call(e)},K=z.isArrayLike=function(e){return W(e)?!0:e?"object"!=typeof e?!1:e instanceof String?!1:1===e.nodeType?!!e.length:0===e.length?!0:e.length>0?e.hasOwnProperty(0)&&e.hasOwnProperty(e.length-1):!1:!1};try{Object.defineProperty(z,"__",{writable:!1,value:F})}catch(Q){z.__=F}var V=z.op=function(t){var n=t.length;if(2!==n)throw new Error("Expected binary function.");return function r(n,i){switch(arguments.length){case 0:throw e();case 1:return n===F?et(X(r)):Z(gt(t,n));default:return n===F?Z(yt(t,i)):t(n,i)}}},G=z.curryN=function(t,r){return function i(o){return tt(Math.max(t-(o&&o.length||0),0),function(){if(0===arguments.length)throw e();var u=n(o,arguments);return u.length>=t?r.apply(this,u):i(u)})}([])},$=z.curry=function(e){return G(e.length,e)},X=z.flip=function(r){return function(i,o){switch(arguments.length){case 0:throw e();case 1:return function(e){return r.apply(this,[e,i].concat(t(arguments,1)))};default:return r.apply(this,n([o,i],t(arguments,2)))}}},Y=z.nAry=function(e,t){switch(e){case 0:return function(){return t.call(this)};case 1:return function(e){return t.call(this,e)};case 2:return function(e,n){return t.call(this,e,n)};case 3:return function(e,n,r){return t.call(this,e,n,r)};case 4:return function(e,n,r,i){return t.call(this,e,n,r,i)};case 5:return function(e,n,r,i,o){return t.call(this,e,n,r,i,o)};case 6:return function(e,n,r,i,o,u){return t.call(this,e,n,r,i,o,u)};case 7:return function(e,n,r,i,o,u,s){return t.call(this,e,n,r,i,o,u,s)};case 8:return function(e,n,r,i,o,u,s,a){return t.call(this,e,n,r,i,o,u,s,a)};case 9:return function(e,n,r,i,o,u,s,a,c){return t.call(this,e,n,r,i,o,u,s,a,c)};case 10:return function(e,n,r,i,o,u,s,a,c,f){return t.call(this,e,n,r,i,o,u,s,a,c,f)};default:return t}},Z=z.unary=function(e){return Y(1,e)},et=z.binary=function(e){return Y(2,e)},tt=z.arity=function(e,t){switch(e){case 0:return function(){return t.apply(this,arguments)};case 1:return function(e){return t.apply(this,arguments)};case 2:return function(e,n){return t.apply(this,arguments)};case 3:return function(e,n,r){return t.apply(this,arguments)};case 4:return function(e,n,r,i){return t.apply(this,arguments)};case 5:return function(e,n,r,i,o){return t.apply(this,arguments)};case 6:return function(e,n,r,i,o,u){return t.apply(this,arguments)};case 7:return function(e,n,r,i,o,u,s){return t.apply(this,arguments)};case 8:return function(e,n,r,i,o,u,s,a){return t.apply(this,arguments)};case 9:return function(e,n,r,i,o,u,s,a,c){return t.apply(this,arguments)};case 10:return function(e,n,r,i,o,u,s,a,c,f){return t.apply(this,arguments)};default:return t}},nt=z.invokerN=function(e,n){var r=t(arguments,2),i=e-r.length;return G(i+1,function(){var e=arguments[i],o=r.concat(t(arguments,0,i));return e[n].apply(e,o)})},rt=z.useWith=function(e){var n=t(arguments,1),r=n.length;return $(tt(r,function(){for(var i=[],o=-1;++o<r;)i.push(n[o](arguments[o]));return e.apply(this,i.concat(t(arguments,r)))}))};z.forEach=r(s),z.forEach.idx=r(function(e,t){for(var n=-1,r=t.length;++n<r;)e(t[n],n,t);return t});var it=z.clone=function(e){return t(e)};z.cloneDeep=function(e){return a(e,[],[])};var ot=z.isEmpty=function(e){return null==e||0===e.length},ut=z.prepend=r(f);z.cons=ut,z.prependTo=X(f);var st=z.nth=r(function(e,t){return 0>e?t[t.length+e]:t[e]}),at=z.head=st(0);z.car=at,z.last=st(-1);var ct=z.tail=u("tail",function(e){return t(e,1)});z.cdr=ct;var ft=z.append=r(l);z.push=ft,z.appendTo=X(l),z.concat=r(function(e,t){if(W(t))return n(e,t);if(o("concat",e))return e.concat(t);throw new TypeError("can't concat "+typeof e)});var lt=z.identity=function(e){return e};z.I=lt,z.argN=function(e){return function(){return arguments[e]}};var pt=z.times=r(function(e,t){for(var n=new Array(t),r=-1;++r<t;)n[r]=e(r);return n});z.repeatN=r(function(e,t){return pt(Ht(e),t)}),z.apply=r(function(e,t){return e.apply(this,t)}),z.unapply=function(n){if(0===arguments.length)throw e();return function(){return n(t(arguments))}};var dt=z.compose=g(p),ht=z.pCompose=g(d);z.pipe=function(){return dt.apply(this,Rt(arguments))},z.pPipe=function(){return ht.apply(this,Rt(arguments))};var gt=z.lPartial=y(n),yt=z.rPartial=y(X(n));z.memoize=function(e){if(!e.length)return mt(e);var n={};return function(){if(arguments.length){var r=wt(function(e,t){return e[t]||(e[t]={})},n,t(arguments,0,arguments.length-1)),i=arguments[arguments.length-1];return r[i]||(r[i]=e.apply(this,arguments))}}};var mt=z.once=function(e){var t,n=!1;return function(){return n?t:(n=!0,t=e.apply(this,arguments))}};z.wrap=function(e,t){return tt(e.length,function(){return t.apply(this,n([e],arguments))})};var vt=z.constructN=r(function(e,t){var n=function(){var e,n,r=function(){};return r.prototype=t.prototype,e=new r,n=t.apply(e,arguments),Object(n)===n?n:e};return e>1?$(Y(e,n)):n});z.construct=function(e){return vt(e.length,e)},z.converge=function(e){var n=t(arguments,1);return function(){var t=arguments;return e.apply(this,m(function(e){return e.apply(this,t)},n))}};var wt=z.reduce=i(function(e,t,n){for(var r=-1,i=n.length;++r<i;)t=e(t,n[r]);return t});z.foldl=wt,z.reduce.idx=i(function(e,t,n){for(var r=-1,i=n.length;++r<i;)t=e(t,n[r],r,n);return t}),z.foldl.idx=wt.idx;var bt=z.reduceRight=i(u("reduceRight",function(e,t,n){for(var r=n.length;r--;)t=e(t,n[r]);return t}));z.foldr=bt,z.reduceRight.idx=i(function(e,t,n){for(var r=n.length;r--;)t=e(t,n[r],r,n);return t}),z.foldr.idx=bt.idx,z.unfoldr=r(function(e,t){for(var n=e(t),r=[];n&&n.length;)r.push(n[0]),n=e(n[1]);return r});var xt=z.map=r(u("map",m));z.map.idx=r(function(e,t){for(var n=-1,r=t.length,i=new Array(r);++n<r;)i[n]=e(t[n],n,t);return i}),z.mapObj=r(function(e,t){return wt(function(n,r){return n[r]=e(t[r]),n},{},Dt(t))}),z.mapObj.idx=r(function(e,t){return wt(function(n,r){return n[r]=e(t[r],r,t),n},{},Dt(t))}),z.scanl=i(function(e,t,n){var r=0,i=n.length+1,o=new Array(i);for(o[r]=t;++r<i;)t=e(t,n[r-1]),o[r]=t;return o});var _t=z.liftN=r(function(n,r){var i=G(n,r);if(0===arguments.length)throw e();return G(n,function(){return wt(Et,m(i,arguments[0]),t(arguments,1))})});z.lift=function(t){if(0===arguments.length)throw e();return _t(t.length,t)};var Et=z.ap=r(function(e,t){return o("ap",e)?e.ap(t):wt(function(e,r){return n(e,m(r,t))},[],e)});z.of=function(e,t){return o("of",t)?t.of(e):[e]},z.empty=function(e){return o("empty",e)?e.empty():[]},z.chain=r(u("chain",function(e,t){return Pt(m(e,t))}));var St=z.commuteMap=i(function(e,t,n){function r(t,n){return Et(xt(ft,e(n)),t)}return wt(r,t([]),n)});z.commute=St(xt(lt));var At=z.size=function(e){return e.length};z.length=At,z.filter=r(u("filter",v)),z.filter.idx=r(w);var Ot=function(e,t){return v(Wt(e),t)};z.reject=r(Ot),z.reject.idx=r(function(e,t){return w(Wt(e),t)}),z.takeWhile=r(u("takeWhile",function(e,n){for(var r=-1,i=n.length;++r<i&&e(n[r]););return t(n,0,r)})),z.take=r(u("take",function(e,n){return t(n,0,Math.min(e,n.length))})),z.skipUntil=r(function(e,n){for(var r=-1,i=n.length;++r<i&&!e(n[r]););return t(n,r)}),z.skip=r(u("skip",function(e,n){return e<n.length?t(n,e):[]})),z.find=r(function(e,t){for(var n=-1,r=t.length;++n<r;)if(e(t[n]))return t[n]
}),z.findIndex=r(function(e,t){for(var n=-1,r=t.length;++n<r;)if(e(t[n]))return n;return-1}),z.findLast=r(function(e,t){for(var n=t.length;n--;)if(e(t[n]))return t[n]}),z.findLastIndex=r(function(e,t){for(var n=t.length;n--;)if(e(t[n]))return n;return-1}),z.every=r(b),z.some=r(x),z.indexOf=r(function(e,t){return _(t,e)}),z.indexOf.from=i(function(e,t,n){return _(n,e,t)}),z.lastIndexOf=r(function(e,t){return E(t,e)}),z.lastIndexOf.from=i(function(e,t,n){return E(n,e,t)}),z.contains=r(S);var kt=z.containsWith=i(A),Ct=z.uniq=function(e){for(var t,n=-1,r=e.length,i=[];++n<r;)t=e[n],S(t,i)||i.push(t);return i};z.isSet=function(e){for(var t=e.length,n=-1;++n<t;)if(_(e,e[n],n+1)>=0)return!1;return!0};var jt=z.uniqWith=r(function(e,t){for(var n,r=-1,i=t.length,o=[];++r<i;)n=t[r],A(e,n,o)||o.push(n);return o}),Ut=z.pluck=r(function(e,t){return m(It(e),t)});z.flatten=O(!0);var Pt=z.unnest=O(!1);z.zipWith=i(function(e,t,n){for(var r=[],i=-1,o=Math.min(t.length,n.length);++i<o;)r[i]=e(t[i],n[i]);return r}),z.zip=r(function(e,t){for(var n=[],r=-1,i=Math.min(e.length,t.length);++r<i;)n[r]=[e[r],t[r]];return n}),z.zipObj=r(function(e,t){for(var n=-1,r=e.length,i={};++n<r;)i[e[n]]=t[n];return i});var Tt=z.fromPairs=function(e){for(var t=-1,n=e.length,r={};++t<n;)W(e[t])&&e[t].length&&(r[e[t][0]]=e[t][1]);return r},Lt=z.createMapEntry=r(function(e,t){var n={};return n[e]=t,n});z.lens=r(function(e,t){var n=function(t){return e(t)};return n.set=t,n.map=function(n,r){return t(n(e(r)),r)},n}),z.xprod=r(function(e,t){if(ot(e)||ot(t))return[];for(var n,r=-1,i=e.length,o=t.length,u=[];++r<i;)for(n=-1;++n<o;)u.push([e[r],t[n]]);return u});var Rt=z.reverse=function(e){for(var t=-1,n=e.length,r=n,i=new Array(n);++t<n;)i[--r]=e[t];return i};z.range=r(function(e,t){if(e>=t)return[];for(var n=0,r=new Array(Math.floor(t)-Math.ceil(e));t>e;)r[n++]=e++;return r}),z.join=nt(1,"join"),z.slice=nt(2,"slice"),z.slice.from=r(function(e,t){return t.slice(e,t.length)}),z.remove=i(function(e,r,i){return n(t(i,0,Math.min(e,i.length)),t(i,Math.min(i.length,e+r)))}),z.insert=i(function(e,r,i){return e=e<i.length&&e>=0?e:i.length,n(l(r,t(i,0,e)),t(i,e))}),z.insert.all=i(function(e,r,i){return e=e<i.length&&e>=0?e:i.length,n(n(t(i,0,e),r),t(i,e))});var Bt=z.comparator=function(e){return function(t,n){return e(t,n)?-1:e(n,t)?1:0}};z.sort=r(function(e,t){return it(t).sort(e)});var Nt=z.groupBy=r(function(e,t){return wt(function(t,n){var r=e(n);return t[r]=l(n,t[r]||(t[r]=[])),t},{},t)});z.partition=r(function(e,t){return wt(function(t,n){return t[e(n)?0:1].push(n),t},[[],[]],t)}),z.tap=r(function(e,t){return e(t),t}),z.eq=r(function(e,t){return e===t});var It=z.prop=function(t,n){switch(arguments.length){case 0:throw e();case 1:return function(e){return e[t]}}return n[t]};z.get=It,z.propOf=X(It),z.props=r(function(e,t){for(var n=e.length,r=new Array(n),i=-1;++i<n;)r[i]=t[e[i]];return r});var Mt=Object.prototype.hasOwnProperty;z.propOr=i(function(e,t,n){return Mt.call(n,e)?n[e]:t}),z.has=r(function(e,t){return Mt.call(t,e)}),z.hasIn=r(function(e,t){return e in t}),z.func=function(n,r){switch(arguments.length){case 0:throw e();case 1:return function(e){return e[n].apply(e,t(arguments,1))};default:return r[n].apply(r,t(arguments,2))}};var Ht=z.always=function(e){return function(){return e}};z.bind=r(function(e,t){return function(){return e.apply(t,arguments)}});var Dt=z.keys=function(){var e=!{toString:null}.propertyIsEnumerable("toString"),t=["constructor","valueOf","isPrototypeOf","toString","propertyIsEnumerable","hasOwnProperty","toLocaleString"];return function(n){if(Object(n)!==n)return[];if(Object.keys)return Object.keys(n);var r,i,o=[];for(r in n)Mt.call(n,r)&&o.push(r);if(e)for(i=t.length;i--;)r=t[i],Mt.call(n,r)&&!S(r,o)&&o.push(r);return o}}(),qt=z.keysIn=function(e){var t,n=[];for(t in e)n.push(t);return n};z.toPairs=k(Dt),z.toPairsIn=k(qt),z.values=function(e){for(var t=Dt(e),n=t.length,r=new Array(n),i=-1;++i<n;)r[i]=e[t[i]];return r},z.valuesIn=function(e){var t,n=[];for(t in e)n.push(e[t]);return n},z.pick=r(function(e,t){return C(function(t,n){return S(n,e)},t)}),z.omit=r(function(e,t){return C(function(t,n){return!S(n,e)},t)}),z.pickBy=r(C);var Ft=z.pickAll=r(j);z.mixin=r(function(e,t){return U(U({},e),t)}),z.cloneObj=function(e){return U({},e)},z.eqProps=i(function(e,t,n){return t[e]===n[e]}),z.where=function(t,n){var r=Nt(function(e){return"function"==typeof t[e]?"fn":"obj"},Dt(t));switch(arguments.length){case 0:throw e();case 1:return function(e){return P(t,r,e)}}return P(t,r,n)};var zt=z.assoc=i(function(e,t,n){return U(Tt(m(function(e){return[e,n[e]]},qt(n))),Lt(e,t))});z.assocPath=function(){var n=function(e,r,i){if(1===e.length)return zt(e[0],r,i);var o=i[e[0]];return zt(e[0],n(t(e,1),r,Jt(Object,o)?o:{}),i)};return function(t,i,o){var u=arguments.length;if(0===u)throw e();var s=$t(".",t),a=r(function(e,t){return n(s,e,t)});switch(u){case 1:return a;case 2:return a(i);default:return a(i,o)}}}(),z.installTo=function(e){return U(e,z)};var Jt=z.is=r(function(e,t){return null!=t&&t.constructor===e||t instanceof e});z.type=function(e){return null===e?"Null":void 0===e?"Undefined":J.call(e).slice(8,-1)},z.alwaysZero=Ht(0),z.alwaysFalse=Ht(!1),z.alwaysTrue=Ht(!0),z.and=r(function(e,t){return function(){return e.apply(this,arguments)&&t.apply(this,arguments)}}),z.or=r(function(e,t){return function(){return e.apply(this,arguments)||t.apply(this,arguments)}});var Wt=z.not=function(e){return function(){return!e.apply(this,arguments)}};z.allPredicates=T(b),z.anyPredicates=T(x);var Kt=z.ifElse=i(function(e,t,n){return function(){return e.apply(this,arguments)?t.apply(this,arguments):n.apply(this,arguments)}});z["if"]=Kt,z.cond=function(){var e=arguments;return function(){for(var t=-1;++t<e.length;)if(e[t][0].apply(this,arguments))return e[t][1].apply(this,arguments)}},z.add=r(L),z.multiply=r(R),z.subtract=V(function(e,t){return e-t}),z.divide=V(function(e,t){return e/t}),z.modulo=V(function(e,t){return e%t});var Qt=Number.isInteger||function(e){return e<<0===e};z.mathMod=V(function(e,t){return Qt(e)?!Qt(t)||1>t?0/0:(e%t+t)%t:0/0}),z.sum=wt(L,0),z.product=wt(R,1),z.lt=V(B),z.lte=V(function(e,t){return t>=e}),z.gt=V(N),z.gte=V(function(e,t){return e>=t});var Vt=z.max=I(N,-1/0);z.maxBy=r(M(N)),z.min=I(B,1/0),z.minBy=r(M(B));var Gt=z.substring=nt(2,"substring");z.substringFrom=X(Gt)(void 0),z.substringTo=Gt(0),z.charAt=nt(1,"charAt"),z.charCodeAt=nt(1,"charCodeAt"),z.match=nt(1,"match"),z.replace=i(function(e,t,n){return n.replace(e,t)}),z.strIndexOf=r(function(e,t){return t.indexOf(e)}),z.strLastIndexOf=r(function(e,t){return t.lastIndexOf(e)}),z.toUpperCase=nt(0,"toUpperCase"),z.toLowerCase=nt(0,"toLowerCase"),z.trim=function(){var e="	\n\f\r   ᠎             　\u2028\u2029﻿",t="​",n="function"==typeof String.prototype.trim;return n&&!e.trim()&&t.trim()?function(e){return e.trim()}:function(t){var n=new RegExp("^["+e+"]["+e+"]*"),r=new RegExp("["+e+"]["+e+"]*$");return t.replace(n,"").replace(r,"")}}();var $t=z.split=nt(1,"split"),Xt=z.pathOn=i(function(e,t,n){return H(t.split(e),n)});z.path=Xt("."),z.pathEq=i(function(e,t,n){return H(e.split("."),n)===t}),z.project=rt(m,Ft,lt),z.propEq=i(function(e,t,n){return n[e]===t}),z.union=dt(Ct,n),z.unionWith=i(function(e,t,r){return jt(e,n(t,r))}),z.difference=r(function(e,t){for(var n=[],r=-1,i=e.length;++r<i;)S(e[r],t)||S(e[r],n)||n.push(e[r]);return n}),z.differenceWith=i(function(e,t,n){for(var r=[],i=-1,o=t.length,u=kt(e);++i<o;)u(t[i],n)||u(t[i],r)||r.push(t[i]);return r}),z.intersection=r(function(e,t){return Ct(v(X(S)(e),t))}),z.intersectionWith=i(function(e,t,n){for(var r=[],i=-1;++i<t.length;)A(e,t[i],n)&&(r[r.length]=t[i]);return jt(e,r)});var Yt=Bt(function(e,t){return e.key<t.key});return z.sortBy=r(function(e,t){return Ut("val",D(e,t).sort(Yt))}),z.countBy=r(function(e,t){return wt(function(e,t){return e[t.key]=(e[t.key]||0)+1,e},{},D(e,t))}),z.functions=q(Dt),z.functionsIn=q(qt),z})},{}],53:[function(e,t){!function(e,t){"use strict";var n;e(function(e){function r(e,t){var n,r,i,o;if(n=e,i={},t){for(r in t)o=new RegExp("\\{"+r+"\\}"),o.test(n)?n=n.replace(o,encodeURIComponent(t[r]),"g"):i[r]=t[r];for(r in i)n+=-1===n.indexOf("?")?"?":"&",n+=encodeURIComponent(r),null!==i[r]&&void 0!==i[r]&&(n+="=",n+=encodeURIComponent(i[r]))}return n}function i(e,t){return 0===e.indexOf(t)}function o(e,t){return this instanceof o?void(e instanceof o?(this._template=e.template,this._params=u({},this._params,t)):(this._template=(e||"").toString(),this._params=t||{})):new o(e,t)}var u,s,a,c,f;return u=e("./util/mixin"),a=/([a-z][a-z0-9\+\-\.]*:)\/\/([^@]+@)?(([^:\/]+)(:([0-9]+))?)?(\/[^?#]*)?(\?[^#]*)?(#\S*)?/i,c=/^([a-z][a-z0-9\-\+\.]*:\/\/|\/)/i,f=/([a-z][a-z0-9\+\-\.]*:)\/\/([^@]+@)?(([^:\/]+)(:([0-9]+))?)?\//i,o.prototype={append:function(e,t){return new o(this._template+e,u({},this._params,t))},fullyQualify:function(){if(!t)return this;if(this.isFullyQualified())return this;var e=this._template;return i(e,"//")?e=s.protocol+e:i(e,"/")?e=s.origin+e:this.isAbsolute()||(e=s.origin+s.pathname.substring(0,s.pathname.lastIndexOf("/")+1)),-1===e.indexOf("/",8)&&(e+="/"),new o(e,this._params)},isAbsolute:function(){return c.test(this.build())},isFullyQualified:function(){return f.test(this.build())},isCrossOrigin:function(){if(!s)return!0;var e=this.parts();return e.protocol!==s.protocol||e.hostname!==s.hostname||e.port!==s.port},parts:function(){var e,t;return e=this.fullyQualify().build().match(a),t={href:e[0],protocol:e[1],host:e[3]||"",hostname:e[4]||"",port:e[6],pathname:e[7]||"",search:e[8]||"",hash:e[9]||""},t.origin=t.protocol+"//"+t.host,t.port=t.port||("https:"===t.protocol?"443":"http:"===t.protocol?"80":""),t},build:function(e){return r(this._template,u({},this._params,e))},toString:function(){return this.build()}},s=t?new o(t.href).parts():n,o})}("function"==typeof define&&define.amd?define:function(n){t.exports=n(e)},"undefined"!=typeof window?window.location:void 0)},{"./util/mixin":63}],54:[function(e,t){!function(e){"use strict";e(function(){return function(e,t){return t&&(e.skip=function(){return t}),e.wrap=function(t,n){return t(e,n)},e.chain=function(){return console&&(console.warn||console.log).call(console,"rest.js: client.chain() is deprecated, use client.wrap() instead"),e.wrap.apply(this,arguments)},e}})}("function"==typeof define&&define.amd?define:function(n){t.exports=n(e)})},{}],55:[function(e,t){!function(e,t){"use strict";e(function(e){function n(e){var t={};return e?(e.trim().split(a).forEach(function(e){var n,r,i;n=e.indexOf(":"),r=o(e.substring(0,n).trim()),i=e.substring(n+1).trim(),t[r]?Array.isArray(t[r])?t[r].push(i):t[r]=[t[r],i]:t[r]=i}),t):t}var r,i,o,u,s,a;return r=e("when"),i=e("../UrlBuilder"),o=e("../util/normalizeHeaderName"),u=e("../util/responsePromise"),s=e("../client"),a=/[\r|\n]+/,s(function(e){return new u.ResponsePromise(function(r,o){var u,s,a,c,f,l,p,d;if(e="string"==typeof e?{path:e}:e||{},p={request:e},e.canceled)return p.error="precanceled",void o(p);if(d=e.engine||t.XMLHttpRequest,!d)return void o({request:e,error:"xhr-not-available"});f=e.entity,e.method=e.method||(f?"POST":"GET"),s=e.method,a=new i(e.path||"",e.params).build();try{u=p.raw=new d,u.open(s,a,!0),e.mixin&&Object.keys(e.mixin).forEach(function(t){e.mixin.hasOwnProperty(t)&&t in u&&(u[t]=e.mixin[t])}),c=e.headers;for(l in c)u.setRequestHeader(l,c[l]);e.canceled=!1,e.cancel=function(){e.canceled=!0,u.abort(),o(p)},u.onreadystatechange=function(){e.canceled||u.readyState===(d.DONE||4)&&(p.status={code:u.status,text:u.statusText},p.headers=n(u.getAllResponseHeaders()),p.entity=u.responseText,p.status.code>0&&r(p))};try{u.onerror=function(){p.error="loaderror",o(p)}}catch(h){}u.send(f)}catch(h){p.error="loaderror",o(p)}})})})}("function"==typeof define&&define.amd?define:function(n){t.exports=n(e)},"undefined"!=typeof window?window:void 0)},{"../UrlBuilder":53,"../client":54,"../util/normalizeHeaderName":64,"../util/responsePromise":65,when:83}],56:[function(e,t){!function(e){"use strict";e(function(e){function t(e){return e}function n(e){return e}function r(e){return e}function i(e){return l.promise(function(t,n){e.forEach(function(e){l(e,t,n)})})}function o(e){return this instanceof o?void a(this,e):new o(e)}function u(e){var u,a,p,d;return e=e||{},u=e.init||t,a=e.request||n,p=e.success||e.response||r,d=e.error||function(){return l((e.response||r).apply(this,arguments),l.reject,l.reject)},function(t,n){function r(e){var u,s;return u={},s={arguments:Array.prototype.slice.call(arguments),client:r},e="string"==typeof e?{path:e}:e||{},e.originator=e.originator||r,c(l(a.call(u,e,n,s),function(e){var r,a,c;return c=t,e instanceof o&&(a=e.abort,c=e.client||c,r=e.response,e=e.request),r=r||l(e,function(e){return l(c(e),function(e){return p.call(u,e,n,s)},function(e){return d.call(u,e,n,s)})}),a?i([r,a]):r},function(t){return l.reject({request:e,error:t})}))}return"object"==typeof t&&(n=t),"function"!=typeof t&&(t=e.client||s),n=u(Object.create(n||{})),f(r,t)}}var s,a,c,f,l;return s=e("./rest"),a=e("./util/mixin"),c=e("./util/responsePromise"),f=e("./client"),l=e("when"),u.ComplexRequest=o,u})}("function"==typeof define&&define.amd?define:function(n){t.exports=n(e)})},{"./client":54,"./rest":62,"./util/mixin":63,"./util/responsePromise":65,when:83}],57:[function(e,t){!function(e){"use strict";e(function(e){var t,n;return t=e("../interceptor"),n=e("when"),t({init:function(e){return e.code=e.code||400,e},response:function(e,t){return e.status&&e.status.code>=t.code?n.reject(e):e}})})}("function"==typeof define&&define.amd?define:function(n){t.exports=n(e)})},{"../interceptor":56,when:83}],58:[function(e,t){!function(e){"use strict";e(function(e){var t,n,r,i;return t=e("../interceptor"),n=e("../mime/registry"),i=e("when"),r=n.lookup("text/plain"),t({init:function(e){return e.registry=e.registry||n,e},request:function(e,t){var n,r;return r=e.headers||(e.headers={}),n=r["Content-Type"]=r["Content-Type"]||t.mime||"text/plain",r.Accept=r.Accept||t.accept||n+", application/json;q=0.8, text/plain;q=0.5, */*;q=0.2","entity"in e?t.registry.lookup(n).then(function(n){var r=t.client||e.originator;return i.attempt(n.write,e.entity,{client:r,request:e}).otherwise(function(){throw"mime-serialization"}).then(function(t){return e.entity=t,e})},function(){throw"mime-unknown"}):e},response:function(e,t){if(!(e.headers&&e.headers["Content-Type"]&&e.entity))return e;var n=e.headers["Content-Type"];return t.registry.lookup(n).otherwise(function(){return r}).then(function(n){var r=t.client||e.request&&e.request.originator;return i.attempt(n.read,e.entity,{client:r,response:e}).otherwise(function(t){throw e.error="mime-deserialization",e.cause=t,e}).then(function(t){return e.entity=t,e})})}})})}("function"==typeof define&&define.amd?define:function(n){t.exports=n(e)})},{"../interceptor":56,"../mime/registry":59,when:83}],59:[function(e,t){!function(e){"use strict";e(function(t){function n(e){return e.split(/[;\+]/)[0].trim()}function r(e){var t={};"function"==typeof e&&(e=function(e){return{lookup:function(n){return t[n]=e(n),t[n]}}}(e)),this.lookup=function(r){return r=n(r),r in t?t[r]:e.lookup(r)},this.register=function(e,r){return e=n(e),t[e]=u.resolve(r),t[e]}}function i(e){var n;return u.promise(function(r,i){n=setTimeout(i,1e3),t(["./type/"+e],r,i)}).otherwise(function(t){return u.reject(t||new Error("Timeout while loading mime module: "+e))}).ensure(function(){clearTimeout(n)})}function o(e){return u.promise(function(n,r){try{n(t("./type/"+e))}catch(i){r(i)}})}var u,s;return u=t("when"),r.prototype={child:function(){return new r(this)}},s=new r("function"==typeof e&&e.amd?i:o),s.register("text/plain",t("./type/text/plain")),s.register("application/json",t("./type/application/json")),s})}("function"==typeof define&&define.amd?define:function(n){t.exports=n(e)})},{"./type/application/json":60,"./type/text/plain":61,when:83}],60:[function(e,t){!function(e){"use strict";e(function(){return{read:function(e){return JSON.parse(e)},write:function(e){return JSON.stringify(e)}}})}("function"==typeof define&&define.amd?define:function(n){t.exports=n(e)})},{}],61:[function(e,t){!function(e){"use strict";e(function(){return{read:function(e){return e},write:function(e){return e.toString()}}})}("function"==typeof define&&define.amd?define:function(n){t.exports=n(e)})},{}],62:[function(e,t){(function(n){!function(e,t){"use strict";var n;e(function(e){function r(){return o.apply(n,arguments)}var i,o,u;return i=e("./client"),o=u=function(){if(t&&t.versions&&t.versions.node){var n="./client/node";return e(n)}return e("./client/xhr")}(),r.setDefaultClient=function(e){o=e},r.getDefaultClient=function(){return o},r.resetDefaultClient=function(){o=u},i(r)})}("function"==typeof define&&define.amd?define:function(n){t.exports=n(e)},"undefined"==typeof n?void 0:n)}).call(this,e("_process"))},{"./client":54,"./client/xhr":55,_process:49}],63:[function(e,t){!function(e){"use strict";e(function(){function e(e){var n,r,i,o;for(e||(e={}),n=1,r=arguments.length;r>n;n+=1){i=arguments[n];for(o in i)o in e&&(e[o]===i[o]||o in t&&t[o]===i[o])||(e[o]=i[o])}return e}var t={};return e})}("function"==typeof define&&define.amd?define:function(n){t.exports=n(e)})},{}],64:[function(e,t){!function(e){"use strict";e(function(){function e(e){return e.toLowerCase().split("-").map(function(e){return e.charAt(0).toUpperCase()+e.slice(1)}).join("-")}return e})}("function"==typeof define&&define.amd?define:function(n){t.exports=n(e)})},{}],65:[function(e,t){!function(e){"use strict";e(function(e){function t(){return i.apply(this,arguments)}function n(e,t){return e.then(function(e){return e&&e[t]},function(e){return o.reject(e&&e[t])})}function r(e){return new t(e.then.bind(e))}var i=e("when/lib/Promise"),o=e("when"),u=e("./normalizeHeaderName");return t.prototype=Object.create(i.prototype),t.prototype.entity=function(){return n(this,"entity")},t.prototype.status=function(){return n(n(this,"status"),"code")},t.prototype.headers=function(){return n(this,"headers")},t.prototype.header=function(e){return e=u(e),n(this.headers(),e)},r.ResponsePromise=t,r})}("function"==typeof define&&define.amd?define:function(n){t.exports=n(e)})},{"./normalizeHeaderName":64,when:83,"when/lib/Promise":67}],66:[function(e,t,n){!function(e,r){"use strict";var i="0.7.3",o="",u="?",s="function",a="undefined",c="object",f="major",l="model",p="name",d="type",h="vendor",g="version",y="architecture",m="console",v="mobile",w="tablet",b="smarttv",x="wearable",_="embedded",E={extend:function(e,t){for(var n in t)-1!=="browser cpu device engine os".indexOf(n)&&t[n].length%2===0&&(e[n]=t[n].concat(e[n]));return e},has:function(e,t){return"string"==typeof e?-1!==t.toLowerCase().indexOf(e.toLowerCase()):void 0},lowerize:function(e){return e.toLowerCase()}},S={rgx:function(){for(var e,t,n,i,o,u,f,l=0,p=arguments;l<p.length&&!u;){var d=p[l],h=p[l+1];if(typeof e===a){e={};for(i in h)o=h[i],typeof o===c?e[o[0]]=r:e[o]=r}for(t=n=0;t<d.length&&!u;)if(u=d[t++].exec(this.getUA()))for(i=0;i<h.length;i++)f=u[++n],o=h[i],typeof o===c&&o.length>0?2==o.length?e[o[0]]=typeof o[1]==s?o[1].call(this,f):o[1]:3==o.length?e[o[0]]=typeof o[1]!==s||o[1].exec&&o[1].test?f?f.replace(o[1],o[2]):r:f?o[1].call(this,f,o[2]):r:4==o.length&&(e[o[0]]=f?o[3].call(this,f.replace(o[1],o[2])):r):e[o]=f?f:r;l+=2}return e},str:function(e,t){for(var n in t)if(typeof t[n]===c&&t[n].length>0){for(var i=0;i<t[n].length;i++)if(E.has(t[n][i],e))return n===u?r:n}else if(E.has(t[n],e))return n===u?r:n;return e}},A={browser:{oldsafari:{major:{1:["/8","/1","/3"],2:"/4","?":"/"},version:{"1.0":"/8",1.2:"/1",1.3:"/3","2.0":"/412","2.0.2":"/416","2.0.3":"/417","2.0.4":"/419","?":"/"}}},device:{amazon:{model:{"Fire Phone":["SD","KF"]}},sprint:{model:{"Evo Shift 4G":"7373KT"},vendor:{HTC:"APA",Sprint:"Sprint"}}},os:{windows:{version:{ME:"4.90","NT 3.11":"NT3.51","NT 4.0":"NT4.0",2000:"NT 5.0",XP:["NT 5.1","NT 5.2"],Vista:"NT 6.0",7:"NT 6.1",8:"NT 6.2",8.1:"NT 6.3",10:"NT 6.4",RT:"ARM"}}}},O={browser:[[/(opera\smini)\/((\d+)?[\w\.-]+)/i,/(opera\s[mobiletab]+).+version\/((\d+)?[\w\.-]+)/i,/(opera).+version\/((\d+)?[\w\.]+)/i,/(opera)[\/\s]+((\d+)?[\w\.]+)/i],[p,g,f],[/\s(opr)\/((\d+)?[\w\.]+)/i],[[p,"Opera"],g,f],[/(kindle)\/((\d+)?[\w\.]+)/i,/(lunascape|maxthon|netfront|jasmine|blazer)[\/\s]?((\d+)?[\w\.]+)*/i,/(avant\s|iemobile|slim|baidu)(?:browser)?[\/\s]?((\d+)?[\w\.]*)/i,/(?:ms|\()(ie)\s((\d+)?[\w\.]+)/i,/(rekonq)((?:\/)[\w\.]+)*/i,/(chromium|flock|rockmelt|midori|epiphany|silk|skyfire|ovibrowser|bolt|iron)\/((\d+)?[\w\.-]+)/i],[p,g,f],[/(trident).+rv[:\s]((\d+)?[\w\.]+).+like\sgecko/i],[[p,"IE"],g,f],[/(yabrowser)\/((\d+)?[\w\.]+)/i],[[p,"Yandex"],g,f],[/(comodo_dragon)\/((\d+)?[\w\.]+)/i],[[p,/_/g," "],g,f],[/(chrome|omniweb|arora|[tizenoka]{5}\s?browser)\/v?((\d+)?[\w\.]+)/i,/(uc\s?browser|qqbrowser)[\/\s]?((\d+)?[\w\.]+)/i],[p,g,f],[/(dolfin)\/((\d+)?[\w\.]+)/i],[[p,"Dolphin"],g,f],[/((?:android.+)crmo|crios)\/((\d+)?[\w\.]+)/i],[[p,"Chrome"],g,f],[/version\/((\d+)?[\w\.]+).+?mobile\/\w+\s(safari)/i],[g,f,[p,"Mobile Safari"]],[/version\/((\d+)?[\w\.]+).+?(mobile\s?safari|safari)/i],[g,f,p],[/webkit.+?(mobile\s?safari|safari)((\/[\w\.]+))/i],[p,[f,S.str,A.browser.oldsafari.major],[g,S.str,A.browser.oldsafari.version]],[/(konqueror)\/((\d+)?[\w\.]+)/i,/(webkit|khtml)\/((\d+)?[\w\.]+)/i],[p,g,f],[/(navigator|netscape)\/((\d+)?[\w\.-]+)/i],[[p,"Netscape"],g,f],[/(swiftfox)/i,/(icedragon|iceweasel|camino|chimera|fennec|maemo\sbrowser|minimo|conkeror)[\/\s]?((\d+)?[\w\.\+]+)/i,/(firefox|seamonkey|k-meleon|icecat|iceape|firebird|phoenix)\/((\d+)?[\w\.-]+)/i,/(mozilla)\/((\d+)?[\w\.]+).+rv\:.+gecko\/\d+/i,/(polaris|lynx|dillo|icab|doris|amaya|w3m|netsurf)[\/\s]?((\d+)?[\w\.]+)/i,/(links)\s\(((\d+)?[\w\.]+)/i,/(gobrowser)\/?((\d+)?[\w\.]+)*/i,/(ice\s?browser)\/v?((\d+)?[\w\._]+)/i,/(mosaic)[\/\s]((\d+)?[\w\.]+)/i],[p,g,f]],cpu:[[/(?:(amd|x(?:(?:86|64)[_-])?|wow|win)64)[;\)]/i],[[y,"amd64"]],[/(ia32(?=;))/i],[[y,E.lowerize]],[/((?:i[346]|x)86)[;\)]/i],[[y,"ia32"]],[/windows\s(ce|mobile);\sppc;/i],[[y,"arm"]],[/((?:ppc|powerpc)(?:64)?)(?:\smac|;|\))/i],[[y,/ower/,"",E.lowerize]],[/(sun4\w)[;\)]/i],[[y,"sparc"]],[/((?:avr32|ia64(?=;))|68k(?=\))|arm(?:64|(?=v\d+;))|(?=atmel\s)avr|(?:irix|mips|sparc)(?:64)?(?=;)|pa-risc)/i],[[y,E.lowerize]]],device:[[/\((ipad|playbook);[\w\s\);-]+(rim|apple)/i],[l,h,[d,w]],[/applecoremedia\/[\w\.]+ \((ipad)/],[l,[h,"Apple"],[d,w]],[/(apple\s{0,1}tv)/i],[[l,"Apple TV"],[h,"Apple"]],[/(archos)\s(gamepad2?)/i,/(hp).+(touchpad)/i,/(kindle)\/([\w\.]+)/i,/\s(nook)[\w\s]+build\/(\w+)/i,/(dell)\s(strea[kpr\s\d]*[\dko])/i],[h,l,[d,w]],[/(kf[A-z]+)\sbuild\/[\w\.]+.*silk\//i],[l,[h,"Amazon"],[d,w]],[/(sd|kf)[0349hijorstuw]+\sbuild\/[\w\.]+.*silk\//i],[[l,S.str,A.device.amazon.model],[h,"Amazon"],[d,v]],[/\((ip[honed|\s\w*]+);.+(apple)/i],[l,h,[d,v]],[/\((ip[honed|\s\w*]+);/i],[l,[h,"Apple"],[d,v]],[/(blackberry)[\s-]?(\w+)/i,/(blackberry|benq|palm(?=\-)|sonyericsson|acer|asus|dell|huawei|meizu|motorola|polytron)[\s_-]?([\w-]+)*/i,/(hp)\s([\w\s]+\w)/i,/(asus)-?(\w+)/i],[h,l,[d,v]],[/\(bb10;\s(\w+)/i],[l,[h,"BlackBerry"],[d,v]],[/android.+(transfo[prime\s]{4,10}\s\w+|eeepc|slider\s\w+|nexus 7)/i],[l,[h,"Asus"],[d,w]],[/(sony)\s(tablet\s[ps])/i],[h,l,[d,w]],[/\s(ouya)\s/i,/(nintendo)\s([wids3u]+)/i],[h,l,[d,m]],[/android.+;\s(shield)\sbuild/i],[l,[h,"Nvidia"],[d,m]],[/(playstation\s[3portablevi]+)/i],[l,[h,"Sony"],[d,m]],[/(sprint\s(\w+))/i],[[h,S.str,A.device.sprint.vendor],[l,S.str,A.device.sprint.model],[d,v]],[/(lenovo)\s?(S(?:5000|6000)+(?:[-][\w+]))/i],[h,l,[d,w]],[/(htc)[;_\s-]+([\w\s]+(?=\))|\w+)*/i,/(zte)-(\w+)*/i,/(alcatel|geeksphone|huawei|lenovo|nexian|panasonic|(?=;\s)sony)[_\s-]?([\w-]+)*/i],[h,[l,/_/g," "],[d,v]],[/[\s\(;](xbox(?:\sone)?)[\s\);]/i],[l,[h,"Microsoft"],[d,m]],[/(kin\.[onetw]{3})/i],[[l,/\./g," "],[h,"Microsoft"],[d,v]],[/\s((milestone|droid(?:[2-4x]|\s(?:bionic|x2|pro|razr))?(:?\s4g)?))[\w\s]+build\//i,/(mot)[\s-]?(\w+)*/i],[[h,"Motorola"],l,[d,v]],[/android.+\s(mz60\d|xoom[\s2]{0,2})\sbuild\//i],[l,[h,"Motorola"],[d,w]],[/android.+((sch-i[89]0\d|shw-m380s|gt-p\d{4}|gt-n8000|sgh-t8[56]9|nexus 10))/i,/((SM-T\w+))/i],[[h,"Samsung"],l,[d,w]],[/((s[cgp]h-\w+|gt-\w+|galaxy\snexus|sm-n900))/i,/(sam[sung]*)[\s-]*(\w+-?[\w-]*)*/i,/sec-((sgh\w+))/i],[[h,"Samsung"],l,[d,v]],[/(samsung);smarttv/i],[h,l,[d,b]],[/\(dtv[\);].+(aquos)/i],[l,[h,"Sharp"],[d,b]],[/sie-(\w+)*/i],[l,[h,"Siemens"],[d,v]],[/(maemo|nokia).*(n900|lumia\s\d+)/i,/(nokia)[\s_-]?([\w-]+)*/i],[[h,"Nokia"],l,[d,v]],[/android\s3\.[\s\w-;]{10}(a\d{3})/i],[l,[h,"Acer"],[d,w]],[/android\s3\.[\s\w-;]{10}(lg?)-([06cv9]{3,4})/i],[[h,"LG"],l,[d,w]],[/(lg) netcast\.tv/i],[h,l,[d,b]],[/(nexus\s[45])/i,/lg[e;\s\/-]+(\w+)*/i],[l,[h,"LG"],[d,v]],[/android.+(ideatab[a-z0-9\-\s]+)/i],[l,[h,"Lenovo"],[d,w]],[/linux;.+((jolla));/i],[h,l,[d,v]],[/((pebble))app\/[\d\.]+\s/i],[h,l,[d,x]],[/android.+;\s(glass)\s\d/i],[l,[h,"Google"],[d,x]],[/(mobile|tablet);.+rv\:.+gecko\//i],[[d,E.lowerize],h,l]],engine:[[/(presto)\/([\w\.]+)/i,/(webkit|trident|netfront|netsurf|amaya|lynx|w3m)\/([\w\.]+)/i,/(khtml|tasman|links)[\/\s]\(?([\w\.]+)/i,/(icab)[\/\s]([23]\.[\d\.]+)/i],[p,g],[/rv\:([\w\.]+).*(gecko)/i],[g,p]],os:[[/microsoft\s(windows)\s(vista|xp)/i],[p,g],[/(windows)\snt\s6\.2;\s(arm)/i,/(windows\sphone(?:\sos)*|windows\smobile|windows)[\s\/]?([ntce\d\.\s]+\w)/i],[p,[g,S.str,A.os.windows.version]],[/(win(?=3|9|n)|win\s9x\s)([nt\d\.]+)/i],[[p,"Windows"],[g,S.str,A.os.windows.version]],[/\((bb)(10);/i],[[p,"BlackBerry"],g],[/(blackberry)\w*\/?([\w\.]+)*/i,/(tizen)[\/\s]([\w\.]+)/i,/(android|webos|palm\os|qnx|bada|rim\stablet\sos|meego|contiki)[\/\s-]?([\w\.]+)*/i,/linux;.+(sailfish);/i],[p,g],[/(symbian\s?os|symbos|s60(?=;))[\/\s-]?([\w\.]+)*/i],[[p,"Symbian"],g],[/\((series40);/i],[p],[/mozilla.+\(mobile;.+gecko.+firefox/i],[[p,"Firefox OS"],g],[/(nintendo|playstation)\s([wids3portablevu]+)/i,/(mint)[\/\s\(]?(\w+)*/i,/(mageia|vectorlinux)[;\s]/i,/(joli|[kxln]?ubuntu|debian|[open]*suse|gentoo|arch|slackware|fedora|mandriva|centos|pclinuxos|redhat|zenwalk|linpus)[\/\s-]?([\w\.-]+)*/i,/(hurd|linux)\s?([\w\.]+)*/i,/(gnu)\s?([\w\.]+)*/i],[p,g],[/(cros)\s[\w]+\s([\w\.]+\w)/i],[[p,"Chromium OS"],g],[/(sunos)\s?([\w\.]+\d)*/i],[[p,"Solaris"],g],[/\s([frentopc-]{0,4}bsd|dragonfly)\s?([\w\.]+)*/i],[p,g],[/(ip[honead]+)(?:.*os\s*([\w]+)*\slike\smac|;\sopera)/i],[[p,"iOS"],[g,/_/g,"."]],[/(mac\sos\sx)\s?([\w\s\.]+\w)*/i,/(macintosh|mac(?=_powerpc)\s)/i],[[p,"Mac OS"],[g,/_/g,"."]],[/((?:open)?solaris)[\/\s-]?([\w\.]+)*/i,/(haiku)\s(\w+)/i,/(aix)\s((\d)(?=\.|\)|\s)[\w\.]*)*/i,/(plan\s9|minix|beos|os\/2|amigaos|morphos|risc\sos|openvms)/i,/(unix)\s?([\w\.]+)*/i],[p,g]]},k=function(t,n){if(!(this instanceof k))return new k(t,n).getResult();var r=t||(e&&e.navigator&&e.navigator.userAgent?e.navigator.userAgent:o),i=n?E.extend(O,n):O;this.getBrowser=function(){return S.rgx.apply(this,i.browser)},this.getCPU=function(){return S.rgx.apply(this,i.cpu)},this.getDevice=function(){return S.rgx.apply(this,i.device)},this.getEngine=function(){return S.rgx.apply(this,i.engine)},this.getOS=function(){return S.rgx.apply(this,i.os)},this.getResult=function(){return{ua:this.getUA(),browser:this.getBrowser(),engine:this.getEngine(),os:this.getOS(),device:this.getDevice(),cpu:this.getCPU()}},this.getUA=function(){return r},this.setUA=function(e){return r=e,this},this.setUA(r)};if(k.VERSION=i,k.BROWSER={NAME:p,MAJOR:f,VERSION:g},k.CPU={ARCHITECTURE:y},k.DEVICE={MODEL:l,VENDOR:h,TYPE:d,CONSOLE:m,MOBILE:v,SMARTTV:b,TABLET:w,WEARABLE:x,EMBEDDED:_},k.ENGINE={NAME:p,VERSION:g},k.OS={NAME:p,VERSION:g},typeof n!==a)typeof t!==a&&t.exports&&(n=t.exports=k),n.UAParser=k;else{e.UAParser=k,typeof define===s&&define.amd&&define(function(){return k});var C=e.jQuery||e.Zepto;if(typeof C!==a){var j=new k;C.ua=j.getResult(),C.ua.get=function(){return j.getUA()},C.ua.set=function(e){j.setUA(e);var t=j.getResult();for(var n in t)C.ua[n]=t[n]}}}}(this)},{}],67:[function(e,t){!function(e){"use strict";e(function(e){var t=e("./makePromise"),n=e("./Scheduler"),r=e("./async");return t({scheduler:new n(r)})})}("function"==typeof define&&define.amd?define:function(n){t.exports=n(e)})},{"./Scheduler":69,"./async":71,"./makePromise":81}],68:[function(e,t){!function(e){"use strict";e(function(){function e(e){this.head=this.tail=this.length=0,this.buffer=new Array(1<<e)}return e.prototype.push=function(e){return this.length===this.buffer.length&&this._ensureCapacity(2*this.length),this.buffer[this.tail]=e,this.tail=this.tail+1&this.buffer.length-1,++this.length,this.length},e.prototype.shift=function(){var e=this.buffer[this.head];return this.buffer[this.head]=void 0,this.head=this.head+1&this.buffer.length-1,--this.length,e},e.prototype._ensureCapacity=function(e){var t,n=this.head,r=this.buffer,i=new Array(e),o=0;if(0===n)for(t=this.length;t>o;++o)i[o]=r[o];else{for(e=r.length,t=this.tail;e>n;++o,++n)i[o]=r[n];for(n=0;t>n;++o,++n)i[o]=r[n]}this.buffer=i,this.head=0,this.tail=this.length},e})}("function"==typeof define&&define.amd?define:function(e){t.exports=e()})},{}],69:[function(e,t){!function(e){"use strict";e(function(e){function t(e){this._async=e,this._queue=new r(15),this._afterQueue=new r(5),this._running=!1;var t=this;this.drain=function(){t._drain()}}function n(e){for(;e.length>0;)e.shift().run()}var r=e("./Queue");return t.prototype.enqueue=function(e){this._add(this._queue,e)},t.prototype.afterQueue=function(e){this._add(this._afterQueue,e)},t.prototype._drain=function(){n(this._queue),this._running=!1,n(this._afterQueue)},t.prototype._add=function(e,t){e.push(t),this._running||(this._running=!0,this._async(this.drain))},t})}("function"==typeof define&&define.amd?define:function(n){t.exports=n(e)})},{"./Queue":68}],70:[function(e,t){!function(e){"use strict";e(function(){function e(t){Error.call(this),this.message=t,this.name=e.name,"function"==typeof Error.captureStackTrace&&Error.captureStackTrace(this,e)}return e.prototype=Object.create(Error.prototype),e.prototype.constructor=e,e})}("function"==typeof define&&define.amd?define:function(e){t.exports=e()})},{}],71:[function(e,t){(function(n){!function(e){"use strict";e(function(e){var t,r;return t="undefined"!=typeof n&&null!==n&&"function"==typeof n.nextTick?function(e){n.nextTick(e)}:(r="function"==typeof MutationObserver&&MutationObserver||"function"==typeof WebKitMutationObserver&&WebKitMutationObserver)?function(e,t){function n(){var e=r;r=void 0,e()}var r,i=e.createElement("div"),o=new t(n);return o.observe(i,{attributes:!0}),function(e){r=e,i.setAttribute("class","x")}}(document,r):function(e){try{return e("vertx").runOnLoop||e("vertx").runOnContext}catch(t){}var n=setTimeout;return function(e){n(e,0)}}(e)})}("function"==typeof define&&define.amd?define:function(n){t.exports=n(e)})}).call(this,e("_process"))},{_process:49}],72:[function(e,t){!function(e){"use strict";e(function(){return function(e){function t(t){return new e(function(e,n){function i(e){o.push(e),0===--u&&n(o)}var o=[],u=r(t,e,i);0===u&&n(new RangeError("any() input must not be empty"))})}function n(t,n){return new e(function(e,i,o){function u(t){l>0&&(--l,c.push(t),0===l&&e(c))}function s(e){a>0&&(--a,f.push(e),0===a&&i(f))}var a,c=[],f=[],l=r(t,u,s,o);n=Math.max(n,0),a=l-n+1,l=Math.min(n,l),n>l?i(new RangeError("some() input must contain at least "+n+" element(s), but had "+l)):0===l&&e(c)})}function r(e,t,n,r){return l.call(e,function(e,i){return d(i).then(t,n,r),e+1},0)}function i(e,t){function n(e,n){return t(n,e)}return"object"!=typeof e?d([]):h(f(function(e,t){return d(e).fold(n,t)},e))}function o(e,t){return h(e).then(function(e){return h(f(t,e)).then(function(t){for(var n,r=t.length,i=new Array(r),o=0,u=0;r>o;++o)n=t[o],(void 0!==n||o in t)&&t[o]&&(i[u++]=e[o]);return i.length=u,i})})}function u(e){return h(f(function(e){function t(){return e.inspect()}return e=d(e),e.then(t,t)},e))}function s(e,t){var n=c(t);return arguments.length>2?l.call(e,n,arguments[2]):l.call(e,n)}function a(e,t){var n=c(t);
return arguments.length>2?p.call(e,n,arguments[2]):p.call(e,n)}function c(e){return function(t,n,r){return d(t).then(function(t){return d(n).then(function(n){return e(t,n,r)})})}}function f(e,t){for(var n,r=t.length,i=new Array(r),o=0;r>o;++o)n=t[o],(void 0!==n||o in t)&&(i[o]=e(t[o],o));return i}var l=Array.prototype.reduce,p=Array.prototype.reduceRight,d=e.resolve,h=e.all;return e.any=t,e.some=n,e.settle=u,e.map=i,e.filter=o,e.reduce=s,e.reduceRight=a,e.prototype.spread=function(e){return this.then(h).then(function(t){return e.apply(void 0,t)})},e}})}("function"==typeof define&&define.amd?define:function(e){t.exports=e()})},{}],73:[function(e,t){!function(e){"use strict";e(function(){function e(){throw new TypeError("catch predicate must be a function")}function t(e,t){return n(t)?e instanceof t:t(e)}function n(e){return e===Error||null!=e&&e.prototype instanceof Error}function r(e){return function(){return e.call(this)}}return function(n){function i(e,n){return function(r){return t(r,n)?e.call(this,r):o(r)}}var o=n.reject,u=n.prototype["catch"];return n.prototype.done=function(e,t){this._handler.visit(this._handler.receiver,e,t)},n.prototype["catch"]=n.prototype.otherwise=function(t){return arguments.length<2?u.call(this,t):"function"!=typeof t?this.ensure(e):u.call(this,i(arguments[1],t))},n.prototype["finally"]=n.prototype.ensure=function(e){if("function"!=typeof e)return this;var t=r(e);return this.then(t,t)["yield"](this)},n.prototype["else"]=n.prototype.orElse=function(e){return this.then(void 0,function(){return e})},n.prototype["yield"]=function(e){return this.then(function(){return e})},n.prototype.tap=function(e){return this.then(e)["yield"](this)},n}})}("function"==typeof define&&define.amd?define:function(e){t.exports=e()})},{}],74:[function(e,t){!function(e){"use strict";e(function(){return function(e){return e.prototype.fold=function(t,n){var r=this._beget();return this._handler.fold(function(n,r,i){e._handler(n).fold(function(e,n,r){r.resolve(t.call(this,n,e))},r,this,i)},n,r._handler.receiver,r._handler),r},e}})}("function"==typeof define&&define.amd?define:function(e){t.exports=e()})},{}],75:[function(e,t){!function(e){"use strict";e(function(){return function(e){function t(e){var t=e.state();return 0===t?{state:"pending"}:t>0?{state:"fulfilled",value:e.value}:{state:"rejected",reason:e.value}}return e.prototype.inspect=function(){return t(e._handler(this))},e}})}("function"==typeof define&&define.amd?define:function(e){t.exports=e()})},{}],76:[function(e,t){!function(e){"use strict";e(function(){return function(e){function t(e,t,r,i){return n(function(t){return[t,e(t)]},t,r,i)}function n(e,t,i,o){function u(o,u){return r(i(o)).then(function(){return n(e,t,i,u)})}return r(o).then(function(n){return r(t(n)).then(function(t){return t?n:r(e(n)).spread(u)})})}var r=e.resolve;return e.iterate=t,e.unfold=n,e}})}("function"==typeof define&&define.amd?define:function(e){t.exports=e()})},{}],77:[function(e,t){!function(e){"use strict";e(function(){return function(e){return e.prototype.progress=function(e){return this.then(void 0,void 0,e)},e}})}("function"==typeof define&&define.amd?define:function(e){t.exports=e()})},{}],78:[function(e,t){!function(e){"use strict";e(function(e){function t(e,t,r,i){return n.set(function(){e(r,i,t)},t)}var n=e("../timer"),r=e("../TimeoutError");return function(e){function i(e,n,r){t(o,e,n,r)}function o(e,t){t.resolve(e)}function u(e,t,n){var i="undefined"==typeof e?new r("timed out after "+n+"ms"):e;t.reject(i)}return e.prototype.delay=function(e){var t=this._beget();return this._handler.fold(i,e,void 0,t._handler),t},e.prototype.timeout=function(e,r){var i=this._beget(),o=i._handler,s=t(u,e,r,i._handler);return this._handler.visit(o,function(e){n.clear(s),this.resolve(e)},function(e){n.clear(s),this.reject(e)},o.notify),i},e}})}("function"==typeof define&&define.amd?define:function(n){t.exports=n(e)})},{"../TimeoutError":70,"../timer":82}],79:[function(e,t){!function(e){"use strict";e(function(e){function t(e){var t="object"==typeof e&&e.stack?e.stack:n(e);return e instanceof Error?t:t+" (WARNING: non-Error used)"}function n(e){var t=String(e);return"[object Object]"===t&&"undefined"!=typeof JSON&&(t=r(e,t)),t}function r(e,t){try{return JSON.stringify(e)}catch(e){return t}}function i(e){throw e}function o(){}var u=e("../timer");return function(e){function r(e){e.handled||(d.push(e),f("Potentially unhandled rejection ["+e.id+"] "+t(e.value)))}function s(e){var t=d.indexOf(e);t>=0&&(d.splice(t,1),l("Handled previous rejection ["+e.id+"] "+n(e.value)))}function a(e,t){p.push(e,t),h||(h=!0,h=u.set(c,0))}function c(){for(h=!1;p.length>0;)p.shift()(p.shift())}var f=o,l=o;"undefined"!=typeof console&&(f="undefined"!=typeof console.error?function(e){console.error(e)}:function(e){console.log(e)},l="undefined"!=typeof console.info?function(e){console.info(e)}:function(e){console.log(e)}),e.onPotentiallyUnhandledRejection=function(e){a(r,e)},e.onPotentiallyUnhandledRejectionHandled=function(e){a(s,e)},e.onFatalRejection=function(e){a(i,e.value)};var p=[],d=[],h=!1;return e}})}("function"==typeof define&&define.amd?define:function(n){t.exports=n(e)})},{"../timer":82}],80:[function(e,t){!function(e){"use strict";e(function(){return function(e){return e.prototype["with"]=e.prototype.withThis=function(e){var t=this._beget(),n=t._handler;return n.receiver=e,this._handler.chain(n,e),t},e}})}("function"==typeof define&&define.amd?define:function(e){t.exports=e()})},{}],81:[function(e,t){!function(e){"use strict";e(function(){return function(e){function t(e,t){this._handler=e===l?t:n(e)}function n(e){function t(e){i.resolve(e)}function n(e){i.reject(e)}function r(e){i.notify(e)}var i=new d;try{e(t,n,r)}catch(o){n(o)}return i}function r(e){return A(e)?e:new t(l,new h(c(e)))}function i(e){return new t(l,new h(new m(e)))}function o(){return D}function u(){return new t(l,new d)}function s(e){function n(e,t,n){this[e]=t,0===--a&&n.become(new y(this))}var r,i,o,u,s=new d,a=e.length>>>0,c=new Array(a);for(r=0;r<e.length;++r)if(o=e[r],void 0!==o||r in e)if(O(o))if(i=A(o)?o._handler.join():f(o),u=i.state(),0===u)i.fold(n,r,c,s);else{if(!(u>0)){s.become(i);break}c[r]=i.value,--a}else c[r]=o,--a;else--a;return 0===a&&s.become(new y(c)),new t(l,s)}function a(e){if(Object(e)===e&&0===e.length)return o();var n,r,i=new d;for(n=0;n<e.length;++n)r=e[n],void 0!==r&&n in e&&c(r).visit(i,i.resolve,i.reject);return new t(l,i)}function c(e){return A(e)?e._handler.join():O(e)?f(e):new y(e)}function f(e){try{var t=e.then;return"function"==typeof t?new g(t,e):new y(e)}catch(n){return new m(n)}}function l(){}function p(){}function d(e,n){t.createContext(this,n),this.consumers=void 0,this.receiver=e,this.handler=void 0,this.resolved=!1}function h(e){this.handler=e}function g(e,t){d.call(this),B.enqueue(new E(e,t,this))}function y(e){t.createContext(this),this.value=e}function m(e){t.createContext(this),this.id=++M,this.value=e,this.handled=!1,this.reported=!1,this._report()}function v(e,t){this.rejection=e,this.context=t}function w(e){this.rejection=e}function b(){return new m(new TypeError("Promise cycle"))}function x(e,t){this.continuation=e,this.handler=t}function _(e,t){this.handler=t,this.value=e}function E(e,t,n){this._then=e,this.thenable=t,this.resolver=n}function S(e,t,n,r,i){try{e.call(t,n,r,i)}catch(o){r(o)}}function A(e){return e instanceof t}function O(e){return("object"==typeof e||"function"==typeof e)&&null!==e}function k(e,n,r,i){return"function"!=typeof e?i.become(n):(t.enterContext(n),U(e,n.value,r,i),void t.exitContext())}function C(e,n,r,i,o){return"function"!=typeof e?o.become(r):(t.enterContext(r),P(e,n,r.value,i,o),void t.exitContext())}function j(e,n,r,i,o){return"function"!=typeof e?o.notify(n):(t.enterContext(r),T(e,n,i,o),void t.exitContext())}function U(e,t,n,r){try{r.become(c(e.call(n,t)))}catch(i){r.become(new m(i))}}function P(e,t,n,r,i){try{e.call(r,t,n,i)}catch(o){i.become(new m(o))}}function T(e,t,n,r){try{r.notify(e.call(n,t))}catch(i){r.notify(i)}}function L(e,t){t.prototype=N(e.prototype),t.prototype.constructor=t}function R(){}var B=e.scheduler,N=Object.create||function(e){function t(){}return t.prototype=e,new t};t.resolve=r,t.reject=i,t.never=o,t._defer=u,t._handler=c,t.prototype.then=function(e,n){var r=this._handler;if("function"!=typeof e&&r.join().state()>0)return new t(l,r);var i=this._beget(),o=i._handler;return r.chain(o,r.receiver,e,n,arguments.length>2?arguments[2]:void 0),i},t.prototype["catch"]=function(e){return this.then(void 0,e)},t.prototype._beget=function(){var e=this._handler,t=new d(e.receiver,e.join().context);return new this.constructor(l,t)},t.all=s,t.race=a,l.prototype.when=l.prototype.become=l.prototype.notify=l.prototype.fail=l.prototype._unreport=l.prototype._report=R,l.prototype._state=0,l.prototype.state=function(){return this._state},l.prototype.join=function(){for(var e=this;void 0!==e.handler;)e=e.handler;return e},l.prototype.chain=function(e,t,n,r,i){this.when({resolver:e,receiver:t,fulfilled:n,rejected:r,progress:i})},l.prototype.visit=function(e,t,n,r){this.chain(I,e,t,n,r)},l.prototype.fold=function(e,t,n,r){this.visit(r,function(r){e.call(n,t,r,this)},r.reject,r.notify)},L(l,p),p.prototype.become=function(e){e.fail()};var I=new p;L(l,d),d.prototype._state=0,d.prototype.resolve=function(e){this.become(c(e))},d.prototype.reject=function(e){this.resolved||this.become(new m(e))},d.prototype.join=function(){if(!this.resolved)return this;for(var e=this;void 0!==e.handler;)if(e=e.handler,e===this)return this.handler=b();return e},d.prototype.run=function(){var e=this.consumers,t=this.join();this.consumers=void 0;for(var n=0;n<e.length;++n)t.when(e[n])},d.prototype.become=function(e){this.resolved||(this.resolved=!0,this.handler=e,void 0!==this.consumers&&B.enqueue(this),void 0!==this.context&&e._report(this.context))},d.prototype.when=function(e){this.resolved?B.enqueue(new x(e,this.handler)):void 0===this.consumers?this.consumers=[e]:this.consumers.push(e)},d.prototype.notify=function(e){this.resolved||B.enqueue(new _(e,this))},d.prototype.fail=function(e){var t="undefined"==typeof e?this.context:e;this.resolved&&this.handler.join().fail(t)},d.prototype._report=function(e){this.resolved&&this.handler.join()._report(e)},d.prototype._unreport=function(){this.resolved&&this.handler.join()._unreport()},L(l,h),h.prototype.when=function(e){B.enqueue(new x(e,this))},h.prototype._report=function(e){this.join()._report(e)},h.prototype._unreport=function(){this.join()._unreport()},L(d,g),L(l,y),y.prototype._state=1,y.prototype.fold=function(e,t,n,r){C(e,t,this,n,r)},y.prototype.when=function(e){k(e.fulfilled,this,e.receiver,e.resolver)};var M=0;L(l,m),m.prototype._state=-1,m.prototype.fold=function(e,t,n,r){r.become(this)},m.prototype.when=function(e){"function"==typeof e.rejected&&this._unreport(),k(e.rejected,this,e.receiver,e.resolver)},m.prototype._report=function(e){B.afterQueue(new v(this,e))},m.prototype._unreport=function(){this.handled=!0,B.afterQueue(new w(this))},m.prototype.fail=function(e){t.onFatalRejection(this,void 0===e?this.context:e)},v.prototype.run=function(){this.rejection.handled||(this.rejection.reported=!0,t.onPotentiallyUnhandledRejection(this.rejection,this.context))},w.prototype.run=function(){this.rejection.reported&&t.onPotentiallyUnhandledRejectionHandled(this.rejection)},t.createContext=t.enterContext=t.exitContext=t.onPotentiallyUnhandledRejection=t.onPotentiallyUnhandledRejectionHandled=t.onFatalRejection=R;var H=new l,D=new t(l,H);return x.prototype.run=function(){this.handler.join().when(this.continuation)},_.prototype.run=function(){var e=this.handler.consumers;if(void 0!==e)for(var t,n=0;n<e.length;++n)t=e[n],j(t.progress,this.value,this.handler,t.receiver,t.resolver)},E.prototype.run=function(){function e(e){r.resolve(e)}function t(e){r.reject(e)}function n(e){r.notify(e)}var r=this.resolver;S(this._then,this.thenable,e,t,n)},t}})}("function"==typeof define&&define.amd?define:function(e){t.exports=e()})},{}],82:[function(e,t){!function(e){"use strict";e(function(e){var t,n,r,i;t=e;try{n=t("vertx"),r=function(e,t){return n.setTimer(t,e)},i=n.cancelTimer}catch(o){r=function(e,t){return setTimeout(e,t)},i=function(e){return clearTimeout(e)}}return{set:r,clear:i}})}("function"==typeof define&&define.amd?define:function(n){t.exports=n(e)})},{}],83:[function(e,t){!function(e){"use strict";e(function(e){function t(e,t,n){var r=O.resolve(e);return arguments.length<2?r:arguments.length>3?r.then(t,n,arguments[3]):r.then(t,n)}function n(e){return new O(e)}function r(e){return function(){return o(e,this,k.call(arguments))}}function i(e){return o(e,this,k.call(arguments,1))}function o(e,t,n){return O.all(n).then(function(n){return e.apply(t,n)})}function u(){return new s}function s(){function e(e){r._handler.resolve(e)}function t(e){r._handler.reject(e)}function n(e){r._handler.notify(e)}var r=O._defer();this.promise=r,this.resolve=e,this.reject=t,this.notify=n,this.resolver={resolve:e,reject:t,notify:n}}function a(e){return e&&"function"==typeof e.then}function c(){return O.all(arguments)}function f(e){return t(e,O.all)}function l(e){return t(e,O.settle)}function p(e,n){return t(e,function(e){return O.map(e,n)})}function d(e,n){return t(e,function(e){return O.filter(e,n)})}function h(e){var n=k.call(arguments,1);return t(e,function(e){return n.unshift(e),O.reduce.apply(O,n)})}function g(e){var n=k.call(arguments,1);return t(e,function(e){return n.unshift(e),O.reduceRight.apply(O,n)})}var y=e("./lib/decorators/timed"),m=e("./lib/decorators/array"),v=e("./lib/decorators/flow"),w=e("./lib/decorators/fold"),b=e("./lib/decorators/inspect"),x=e("./lib/decorators/iterate"),_=e("./lib/decorators/progress"),E=e("./lib/decorators/with"),S=e("./lib/decorators/unhandledRejection"),A=e("./lib/TimeoutError"),O=[m,v,w,x,_,b,E,y,S].reduce(function(e,t){return t(e)},e("./lib/Promise")),k=Array.prototype.slice;return t.promise=n,t.resolve=O.resolve,t.reject=O.reject,t.lift=r,t["try"]=i,t.attempt=i,t.iterate=O.iterate,t.unfold=O.unfold,t.join=c,t.all=f,t.settle=l,t.any=r(O.any),t.some=r(O.some),t.race=r(O.race),t.map=p,t.filter=d,t.reduce=h,t.reduceRight=g,t.isPromiseLike=a,t.Promise=O,t.defer=u,t.TimeoutError=A,t})}("function"==typeof define&&define.amd?define:function(n){t.exports=n(e)})},{"./lib/Promise":67,"./lib/TimeoutError":70,"./lib/decorators/array":72,"./lib/decorators/flow":73,"./lib/decorators/fold":74,"./lib/decorators/inspect":75,"./lib/decorators/iterate":76,"./lib/decorators/progress":77,"./lib/decorators/timed":78,"./lib/decorators/unhandledRejection":79,"./lib/decorators/with":80}]},{},[8]);